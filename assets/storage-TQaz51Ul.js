const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./slides-component-Bj1IZwWl.js","./index-txb0mb7R.js","./index-B-hr6ABS.css","./slides-component-DeDT_a8V.css"])))=>i.map(i=>d[i]);
var Ss=Object.defineProperty;var _s=(De,_e,Le)=>_e in De?Ss(De,_e,{enumerable:!0,configurable:!0,writable:!0,value:Le}):De[_e]=Le;var re=(De,_e,Le)=>_s(De,typeof _e!="symbol"?_e+"":_e,Le);import{u as ge,c as F,Q as Z,V as te,j as S,dJ as Os,au as Ot,aI as js,Z as je,dK as Es,dL as mo,dM as Ds,dN as $t,dO as go,dP as yo,dQ as Cs,dR as lt,dS as Ns,dT as ks,cF as bo,dU as Ps,aO as Xt,dV as Rs,dW as Ms,dX as de,a4 as Te,dY as vo,dZ as Ts,d_ as zs,a as we,d$ as wo,e0 as Ls,e1 as Is,e2 as xo,e3 as So,e4 as _o,e5 as Hs,e6 as Ws,e7 as As,e8 as qs,e9 as Bs,ea as Oo,W as ze,eb as Gs,ec as Fs,bf as jo,ed as Vs,ee as Us,ef as Ys,bp as $s,eg as Xs,eh as Eo,aq as Kt,bg as Do,aE as Se,dm as Co,ei as Qt,aF as qe,c9 as Ks,ej as Qs,U as Zs,R as No,b9 as ko,ek as Zt,el as jt,em as Jt,en,a$ as ct,dC as Js,eo as Po,ep as ei,bt as ut,eq as ti,b2 as tn,aV as nn,aU as rn,er as ni,es as ue,L as Ee,$ as ri,n as oi,aT as ai,a8 as Ro,et as Et,dF as Mo,br as To,aR as on,eu as si,ev as ii,ew as an,be as li,ex as ci,dy as ui,ey as di,a6 as pi,ez as fi,bw as hi,as as mi,eA as gi,eB as zo,eC as yi,eD as bi,eE as sn,eF as vi,af as dt,aP as wi,aQ as xi,eG as Si,eH as _i,eI as Oi,eJ as ji,eK as Ei,eL as Di,eM as Ci,eN as Lo,eO as Ni,dz as Dt,eP as Io,eQ as ki,eR as Pi,eS as Ri,eT as pt,eU as Ho,eV as Mi,eW as Wo,eX as ln,eY as Ti,eZ as zi,e_ as Li,e$ as Ii,f0 as Hi,f1 as Wi,f2 as Ai,f3 as qi,f4 as Bi,f5 as Ao,f6 as Gi,f7 as Fi,a0 as qo,f8 as Vi,co as Ui,f9 as Yi,fa as $i,fb as Xi,fc as Ki,fd as Qi,fe as Zi,ff as Ji,fg as el,fh as Ct,fi as tl,__tla as nl}from"./index-txb0mb7R.js";import{a as rl}from"./index-Bfi4fmBc.js";let Bo,cn,un,dn,pn,fn,hn,mn,Go,gn,Fo,yn,Vo,bn,vn,Nt,Xe,Uo,Yo,$o,wn,xn,kt,Sn,Xo,Ko,Qo,Zo,Pt,Jo,_n,On,ea,jn,ta,na,ra,En,oa,Dn,Cn,Nn,kn,ol=Promise.all([(()=>{try{return nl}catch{}})()]).then(async()=>{let De,_e,Le,Pn,Rn,Mn,Tn,zn,Ln,In,Hn,Wn,An;De=ge("align-end-vertical",[["rect",{width:"16",height:"6",x:"2",y:"4",rx:"2",key:"10wcwx"}],["rect",{width:"9",height:"6",x:"9",y:"14",rx:"2",key:"4p5bwg"}],["path",{d:"M22 22V2",key:"12ipfv"}]]),_e=ge("align-horizontal-space-around",[["rect",{width:"6",height:"10",x:"9",y:"7",rx:"2",key:"yn7j0q"}],["path",{d:"M4 22V2",key:"tsjzd3"}],["path",{d:"M20 22V2",key:"1bnhr8"}]]),Le=ge("align-start-vertical",[["rect",{width:"9",height:"6",x:"6",y:"14",rx:"2",key:"lpm2y7"}],["rect",{width:"16",height:"6",x:"6",y:"4",rx:"2",key:"rdj6ps"}],["path",{d:"M2 2v20",key:"1ivd8o"}]]),pn=ge("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),fn=ge("folder-down",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m15 13-3 3-3-3",key:"6j2sf0"}]]),Pn=ge("hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),mn=ge("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Rn=ge("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),gn=ge("menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),wn=ge("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Mn=ge("scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]),Tn=ge("skip-forward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),zn=ge("square-arrow-right",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]),Ln=ge("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),In=ge("unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]),Hn=n=>{const e=F.c(10),{title:t}=n,[r,l]=Z.useState(t),[i,c]=Z.useState(!0);let u,g,f;e[0]!==r||e[1]!==t?(u=()=>{if(t!==r){c(!1);const o=setTimeout(()=>{l(t),c(!0)},300);return()=>clearTimeout(o)}},g=[t,r],e[0]=r,e[1]=t,e[2]=u,e[3]=g):(u=e[2],g=e[3]),Z.useEffect(u,g),e[4]===Symbol.for("react.memo_cache_sentinel")?(f=S.jsx(Os,{className:"size-20 animate-spin text-primary","data-testid":"large-spinner",strokeWidth:1}),e[4]=f):f=e[4];const w=i?"opacity-100":"opacity-0";let x,a;return e[5]!==w?(x=te("mt-2 text-muted-foreground font-semibold text-lg transition-opacity duration-300",w),e[5]=w,e[6]=x):x=e[6],e[7]!==r||e[8]!==x?(a=S.jsxs("div",{className:"flex flex-col h-full flex-1 items-center justify-center p-4",children:[f,S.jsx("div",{className:x,children:r})]}),e[7]=r,e[8]=x,e[9]=a):a=e[9],a},Wn=n=>{const e=F.c(2),{children:t}=n;if(!Ot())return t;let r;return e[0]!==t?(r=S.jsx(An,{children:t}),e[0]=t,e[1]=r):r=e[1],r},An=n=>{const e=F.c(3),{children:t}=n;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0];const{isPending:l,error:i}=js(aa,r),c=je(Es);if(l){let u;return e[1]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx(qn,{}),e[1]=u):u=e[1],u}if(!c&&mo()==="read"&&(Ds(lt.showCode,"false")||!$t.get(go))){let u;return e[2]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx(qn,{}),e[2]=u):u=e[2],u}if(i)throw i;return t};const qn=n=>{const e=F.c(2),t=je(Cs);let r;return e[0]!==t?(r=S.jsx(Hn,{title:t}),e[0]=t,e[1]=r):r=e[1],r};async function aa(){return await yo.INSTANCE.initialized.promise,!0}const sa={idle:"./favicon.ico",success:"./circle-check.ico",running:"./circle-play.ico",error:"./circle-x.ico"},Rt=new Map;async function Ke(n){const e=Rt.get(n);if(e)return e;const t=await fetch(sa[n]),r=await t.blob(),l=URL.createObjectURL(r);return Rt.set(n,l),l}const ia=n=>{const e=F.c(15),{isRunning:t}=n,r=Ns();let l,i,c,u;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=document.querySelector("link[rel~='icon']"),l||(l=document.createElement("link"),l.rel="icon",document.getElementsByTagName("head")[0].append(l)),e[0]=l):l=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(i=[],e[1]=i):i=e[1],Z.useEffect(ua,i),e[2]!==r||e[3]!==t?(c=()=>{!t&&l.href.includes("favicon")||(async()=>{let a;if(a=t?"running":r.length===0?"success":"error",l.href=await Ke(a),!document.hasFocus())return;const o=setTimeout(async()=>{l.href=await Ke("idle")},3e3)})()},e[2]=r,e[3]=t,e[4]=c):c=e[4],e[5]!==r||e[6]!==t?(u=[t,r,l],e[5]=r,e[6]=t,e[7]=u):u=e[7],Z.useEffect(c,u);const g=ks(t)??t;let f,w,x;return e[8]!==r||e[9]!==t||e[10]!==g?(f=()=>{g&&!t&&function(a){if(document.visibilityState==="visible")return;const o=async()=>{a===0?new Notification("Execution completed",{body:"Your notebook run completed successfully.",icon:await Ke("success")}):new Notification("Execution failed",{body:`Your notebook run encountered ${a} error(s).`,icon:await Ke("error")})};"Notification"in window&&Notification.permission!=="denied"&&(Notification.permission==="granted"?o():Notification.permission==="default"&&Notification.requestPermission().then(s=>{s==="granted"&&o()}))}(r.length)},w=[r,g,t],e[8]=r,e[9]=t,e[10]=g,e[11]=f,e[12]=w):(f=e[11],w=e[12]),Z.useEffect(f,w),e[13]!==t?(x=async a=>{t||(l.href=await Ke("idle"))},e[13]=t,e[14]=x):x=e[14],bo(window,"focus",x),null};function la(n){return URL.revokeObjectURL(n)}function ca(){Rt.forEach(la)}function ua(){return ca}function da(){const{cellRuntime:n}=$t.get(Ps),e=Xt.entries(n).find(([t,r])=>r.status==="running");e&&Rs(e[0],"focus")}const pa=n=>{const e=F.c(22),{connection:t,isRunning:r}=n,{mode:l}=je(Ms),i=t.state===de.CLOSED,c=t.state===de.OPEN;let u;e[0]!==t.canTakeover||e[1]!==i?(u=i&&!t.canTakeover&&S.jsx(ga,{}),e[0]=t.canTakeover,e[1]=i,e[2]=u):u=e[2];const g=l==="read"?"fixed":"absolute";let f,w,x,a,o,s;return e[3]!==g?(f=te("z-50 top-4 left-4",g),e[3]=g,e[4]=f):f=e[4],e[5]!==c||e[6]!==r?(w=c&&r&&S.jsx(ma,{}),e[5]=c,e[6]=r,e[7]=w):w=e[7],e[8]!==t.canTakeover||e[9]!==i?(x=i&&!t.canTakeover&&S.jsx(fa,{}),e[8]=t.canTakeover,e[9]=i,e[10]=x):x=e[10],e[11]!==t.canTakeover||e[12]!==i?(a=i&&t.canTakeover&&S.jsx(ha,{}),e[11]=t.canTakeover,e[12]=i,e[13]=a):a=e[13],e[14]!==f||e[15]!==w||e[16]!==x||e[17]!==a?(o=S.jsxs("div",{className:f,children:[w,x,a]}),e[14]=f,e[15]=w,e[16]=x,e[17]=a,e[18]=o):o=e[18],e[19]!==u||e[20]!==o?(s=S.jsxs(S.Fragment,{children:[u,o]}),e[19]=u,e[20]=o,e[21]=s):s=e[21],s},Mt="no-print pointer-events-auto hover:cursor-pointer",fa=()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(Te,{content:"App disconnected",children:S.jsx("div",{className:Mt,children:S.jsx(In,{className:"w-[25px] h-[25px] text-[var(--red-11)]"})})}),n[0]=e):e=n[0],e},ha=()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(Te,{content:"Notebook locked",children:S.jsx("div",{className:Mt,children:S.jsx(vo,{className:"w-[25px] h-[25px] text-[var(--blue-11)]"})})}),n[0]=e):e=n[0],e},ma=()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(Te,{content:"Jump to running cell",side:"right",children:S.jsx("div",{className:Mt,"data-testid":"loading-indicator",onClick:da,children:S.jsx(Pn,{className:"running-app-icon",size:30,strokeWidth:1})})}),n[0]=e):e=n[0],e},ga=()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"noise"}),S.jsx("div",{className:"disconnected-gradient"})]}),n[0]=e):e=n[0],e},ya=qs,ba=As,va=Ts(zs),Bn=we.forwardRef((n,e)=>{const t=F.c(9);let r,l,i,c;return t[0]!==n?({className:r,...l}=n,t[0]=n,t[1]=r,t[2]=l):(r=t[1],l=t[2]),t[3]!==r?(i=te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),t[3]=r,t[4]=i):i=t[4],t[5]!==l||t[6]!==e||t[7]!==i?(c=S.jsx(wo,{className:i,...l,ref:e}),t[5]=l,t[6]=e,t[7]=i,t[8]=c):c=t[8],c});Bn.displayName=wo.displayName;const wa=Ls("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Gn=we.forwardRef((n,e)=>{const t=F.c(15);let r,l,i,c;t[0]!==n?({side:c,className:l,children:r,...i}=n,t[0]=n,t[1]=r,t[2]=l,t[3]=i,t[4]=c):(r=t[1],l=t[2],i=t[3],c=t[4]);const u=c===void 0?"right":c;let g,f,w,x;return t[5]===Symbol.for("react.memo_cache_sentinel")?(g=S.jsx(Bn,{}),t[5]=g):g=t[5],t[6]!==l||t[7]!==u?(f=te(wa({side:u}),l),t[6]=l,t[7]=u,t[8]=f):f=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(w=S.jsxs(Hs,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[S.jsx(Ws,{className:"h-4 w-4"}),S.jsx("span",{className:"sr-only",children:"Close"})]}),t[9]=w):w=t[9],t[10]!==r||t[11]!==i||t[12]!==e||t[13]!==f?(x=S.jsx(va,{children:S.jsxs(Is,{children:[g,S.jsxs(xo,{ref:e,className:f,...i,children:[r,w]})]})}),t[10]=r,t[11]=i,t[12]=e,t[13]=f,t[14]=x):x=t[14],x});Gn.displayName=xo.displayName,we.forwardRef((n,e)=>{const t=F.c(9);let r,l,i,c;return t[0]!==n?({className:r,...l}=n,t[0]=n,t[1]=r,t[2]=l):(r=t[1],l=t[2]),t[3]!==r?(i=te("text-lg font-semibold text-foreground",r),t[3]=r,t[4]=i):i=t[4],t[5]!==l||t[6]!==e||t[7]!==i?(c=S.jsx(So,{ref:e,className:i,...l}),t[5]=l,t[6]=e,t[7]=i,t[8]=c):c=t[8],c}).displayName=So.displayName,we.forwardRef((n,e)=>{const t=F.c(9);let r,l,i,c;return t[0]!==n?({className:r,...l}=n,t[0]=n,t[1]=r,t[2]=l):(r=t[1],l=t[2]),t[3]!==r?(i=te("text-sm text-muted-foreground",r),t[3]=r,t[4]=i):i=t[4],t[5]!==l||t[6]!==e||t[7]!==i?(c=S.jsx(_o,{ref:e,className:i,...l}),t[5]=l,t[6]=e,t[7]=i,t[8]=c):c=t[8],c}).displayName=_o.displayName;const Tt=Z.memo(()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(Bs,{name:Oo.SIDEBAR}),n[0]=e):e=n[0],e});Tt.displayName="SidebarSlot";let Fn,Vn,Un,Yn,$n;Fn=n=>{const e=F.c(6),{openWidth:t}=n;let r,l,i,c;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r=S.jsx(ba,{className:"lg:hidden",asChild:!0,children:S.jsx(ze,{variant:"ghost",className:"bg-background",children:S.jsx(gn,{className:"w-5 h-5"})})}),e[0]=r):r=e[0],e[1]!==t?(l={maxWidth:t},e[1]=t,e[2]=l):l=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(i=S.jsx(Tt,{}),e[3]=i):i=e[3],e[4]!==l?(c=S.jsxs(ya,{children:[r,S.jsx(Gn,{className:"w-full px-3 h-full flex flex-col overflow-y-auto",style:l,side:"left",children:i})]}),e[4]=l,e[5]=c):c=e[5],c},Vn=n=>{const e=F.c(7),{isOpen:t,toggle:r}=n,l=t?"rotate-0":"rotate-180";let i,c,u;return e[0]!==l?(i=te("h-5 w-5 transition-transform ease-in-out duration-700",l),e[0]=l,e[1]=i):i=e[1],e[2]!==i?(c=S.jsx(Gs,{className:i}),e[2]=i,e[3]=c):c=e[3],e[4]!==c||e[5]!==r?(u=S.jsx("div",{className:"invisible lg:visible absolute top-[12px] right-[16px] z-20",children:S.jsx(ze,{onClick:r,className:"w-10 h-8",variant:"ghost",size:"icon",children:c})}),e[4]=c,e[5]=r,e[6]=u):u=e[6],u},Un=n=>{const e=F.c(11),{isOpen:t,toggle:r,width:l}=n,i=t?l:Fs;let c,u,g,f,w;return e[0]!==i?(c={width:i},e[0]=i,e[1]=c):c=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(u=te("app-sidebar auto-collapse-nav","top-0 left-0 z-20 h-full hidden lg:block relative transition-[width] ease-in-out duration-300"),e[2]=u):u=e[2],e[3]!==t||e[4]!==r?(g=S.jsx(Vn,{isOpen:t,toggle:r}),e[3]=t,e[4]=r,e[5]=g):g=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(f=S.jsx("div",{className:"relative h-full flex flex-col px-3 pb-16 pt-14 overflow-y-auto shadow-sm border-l",children:S.jsx(Tt,{})}),e[6]=f):f=e[6],e[7]!==t||e[8]!==c||e[9]!==g?(w=S.jsxs("aside",{"data-expanded":t,style:c,className:u,children:[g,f]}),e[7]=t,e[8]=c,e[9]=g,e[10]=w):w=e[10],w},Yn=n=>{const e=F.c(15),{children:t}=n,[r,l]=jo(Vs),{isOpen:i,width:c}=r;if(Us(Oo.SIDEBAR).length===0)return t;let u;e[0]!==c?(u=Ys(c),e[0]=c,e[1]=u):u=e[1];const g=u;let f,w,x,a;return e[2]!==l||e[3]!==i?(f=()=>l({type:"toggle",isOpen:!i}),e[2]=l,e[3]=i,e[4]=f):f=e[4],e[5]!==i||e[6]!==g||e[7]!==f?(w=S.jsx(Un,{isOpen:i,width:g,toggle:f}),e[5]=i,e[6]=g,e[7]=f,e[8]=w):w=e[8],e[9]!==g?(x=S.jsx("div",{className:"absolute top-3 left-4 flex items-center z-50",children:S.jsx(Fn,{openWidth:g})}),e[9]=g,e[10]=x):x=e[10],e[11]!==t||e[12]!==w||e[13]!==x?(a=S.jsxs("div",{className:"inset-0 absolute flex",children:[w,x,t]}),e[11]=t,e[12]=w,e[13]=x,e[14]=a):a=e[14],a},Yo=n=>{const e=F.c(18),{width:t,connection:r,isRunning:l,children:i}=n,c=r.state;let u,g;e[0]!==l?(u=S.jsx(ia,{isRunning:l}),e[0]=l,e[1]=u):u=e[1],e[2]!==r||e[3]!==l?(g=S.jsx(pa,{connection:r,isRunning:l}),e[2]=r,e[3]=l,e[4]=g):g=e[4];const f=c===de.CLOSED&&"disconnected",w=t==="full"&&"config-width-full",x=t==="columns"?"overflow-x-auto":"overflow-x-hidden";let a,o,s;return e[5]!==f||e[6]!==w||e[7]!==x?(a=te("mathjax_ignore",f,"bg-background w-full h-full text-textColor","flex flex-col overflow-y-auto",w,x,"print:height-fit"),e[5]=f,e[6]=w,e[7]=x,e[8]=a):a=e[8],e[9]!==i||e[10]!==c||e[11]!==a||e[12]!==t?(o=S.jsx(Wn,{children:S.jsx(Yn,{children:S.jsx("div",{id:"App","data-config-width":t,"data-connection-state":c,className:a,children:i})})}),e[9]=i,e[10]=c,e[11]=a,e[12]=t,e[13]=o):o=e[13],e[14]!==u||e[15]!==g||e[16]!==o?(s=S.jsxs(S.Fragment,{children:[u,g,o]}),e[14]=u,e[15]=g,e[16]=o,e[17]=s):s=e[17],s},$n=n=>{const e=F.c(10),{reason:t,canTakeover:r}=n,l=r!==void 0&&r,i=xa;if(l){let u,g,f,w;return e[0]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx("div",{className:"flex justify-between",children:S.jsx("span",{className:"font-bold text-xl flex items-center mb-2",children:"Notebook already connected"})}),e[0]=u):u=e[0],e[1]!==t?(g=S.jsx("span",{children:t}),e[1]=t,e[2]=g):g=e[2],e[3]!==l?(f=l&&S.jsxs(ze,{onClick:i,variant:"outline","data-testid":"takeover-button",className:"flex-shrink-0",children:[S.jsx(zn,{className:"w-4 h-4 mr-2"}),"Take over session"]}),e[3]=l,e[4]=f):f=e[4],e[5]!==g||e[6]!==f?(w=S.jsx("div",{className:"flex justify-center",children:S.jsxs($s,{kind:"info",className:"mt-10 flex flex-col rounded p-3 max-w-[800px] mx-4",children:[u,S.jsxs("div",{className:"flex justify-between items-end text-base gap-20",children:[g,f]})]})}),e[5]=g,e[6]=f,e[7]=w):w=e[7],w}let c;return e[8]!==t?(c=S.jsx("div",{className:"font-mono text-center text-base text-[var(--red-11)]",children:S.jsx("p",{children:t})}),e[8]=t,e[9]=c):c=e[9],c};async function xa(){try{const n=new URL(window.location.href).searchParams;await Xs.post(`/kernel/takeover?${n.toString()}`,{}),Eo()}catch(n){Kt({title:"Failed to take over session",description:Do(n),variant:"danger"})}}Bo=n=>{const e=F.c(8),{connection:t,className:r,children:l}=n;let i,c;return e[0]!==t.canTakeover||e[1]!==t.reason||e[2]!==t.state?(i=t.state===de.CLOSED&&S.jsx($n,{reason:t.reason,canTakeover:t.canTakeover}),e[0]=t.canTakeover,e[1]=t.reason,e[2]=t.state,e[3]=i):i=e[3],e[4]!==l||e[5]!==r||e[6]!==i?(c=S.jsxs("div",{className:r,children:[l,i]}),e[4]=l,e[5]=r,e[6]=i,e[7]=c):c=e[7],c};var Xn,Kn={exports:{}},Qe={},Qn={exports:{}};function zt(){return Xn||(Xn=1,function(n){function e(A){return function(q,V,$,G,oe,ne,ae){return A(q,V,ae)}}function t(A){return function(q,V,$,G){if(!q||!V||typeof q!="object"||typeof V!="object")return A(q,V,$,G);var oe=G.get(q),ne=G.get(V);if(oe&&ne)return oe===V&&ne===q;G.set(q,V),G.set(V,q);var ae=A(q,V,$,G);return G.delete(q),G.delete(V),ae}}function r(A,q){var V={};for(var $ in A)V[$]=A[$];for(var $ in q)V[$]=q[$];return V}function l(A){return A.constructor===Object||A.constructor==null}function i(A){return typeof A.then=="function"}function c(A,q){return A===q||A!=A&&q!=q}var u="[object Arguments]",g="[object Boolean]",f="[object Date]",w="[object RegExp]",x="[object Map]",a="[object Number]",o="[object Object]",s="[object Set]",d="[object String]",m=Object.prototype.toString;function p(A){var q=A.areArraysEqual,V=A.areDatesEqual,$=A.areMapsEqual,G=A.areObjectsEqual,oe=A.areRegExpsEqual,ne=A.areSetsEqual,ae=(0,A.createIsNestedEqual)(le);function le(ee,K,ce){if(ee===K)return!0;if(!ee||!K||typeof ee!="object"||typeof K!="object")return ee!=ee&&K!=K;if(l(ee)&&l(K))return G(ee,K,ae,ce);var ye=Array.isArray(ee),ke=Array.isArray(K);if(ye||ke)return ye===ke&&q(ee,K,ae,ce);var he=m.call(ee);return he===m.call(K)&&(he===f?V(ee,K,ae,ce):he===w?oe(ee,K,ae,ce):he===x?$(ee,K,ae,ce):he===s?ne(ee,K,ae,ce):he===o||he===u?!i(ee)&&!i(K)&&G(ee,K,ae,ce):(he===g||he===a||he===d)&&c(ee.valueOf(),K.valueOf()))}return le}function v(A,q,V,$){var G=A.length;if(q.length!==G)return!1;for(;G-- >0;)if(!V(A[G],q[G],G,G,A,q,$))return!1;return!0}var _=t(v);function D(A,q){return c(A.valueOf(),q.valueOf())}function k(A,q,V,$){var G=A.size===q.size;if(!G)return!1;if(!A.size)return!0;var oe={},ne=0;return A.forEach(function(ae,le){if(G){var ee=!1,K=0;q.forEach(function(ce,ye){ee||oe[K]||!(ee=V(le,ye,ne,K,A,q,$)&&V(ae,ce,le,ye,A,q,$))||(oe[K]=!0),K++}),ne++,G=ee}}),G}var P=t(k),T="_owner",z=Object.prototype.hasOwnProperty;function O(A,q,V,$){var G,oe=Object.keys(A),ne=oe.length;if(Object.keys(q).length!==ne)return!1;for(;ne-- >0;){if((G=oe[ne])===T){var ae=!!A.$$typeof,le=!!q.$$typeof;if((ae||le)&&ae!==le)return!1}if(!z.call(q,G)||!V(A[G],q[G],G,G,A,q,$))return!1}return!0}var N=t(O);function j(A,q){return A.source===q.source&&A.flags===q.flags}function E(A,q,V,$){var G=A.size===q.size;if(!G)return!1;if(!A.size)return!0;var oe={};return A.forEach(function(ne,ae){if(G){var le=!1,ee=0;q.forEach(function(K,ce){le||oe[ee]||!(le=V(ne,K,ae,ce,A,q,$))||(oe[ee]=!0),ee++}),G=le}}),G}var C=t(E),L=Object.freeze({areArraysEqual:v,areDatesEqual:D,areMapsEqual:k,areObjectsEqual:O,areRegExpsEqual:j,areSetsEqual:E,createIsNestedEqual:e}),H=Object.freeze({areArraysEqual:_,areDatesEqual:D,areMapsEqual:P,areObjectsEqual:N,areRegExpsEqual:j,areSetsEqual:C,createIsNestedEqual:e}),y=p(L);function h(A,q){return y(A,q,void 0)}var b=p(r(L,{createIsNestedEqual:function(){return c}}));function R(A,q){return b(A,q,void 0)}var M=p(H);function I(A,q){return M(A,q,new WeakMap)}var W=p(r(H,{createIsNestedEqual:function(){return c}}));function B(A,q){return W(A,q,new WeakMap)}function U(A){return p(r(L,A(L)))}function J(A){var q=p(r(H,A(H)));return function(V,$,G){return G===void 0&&(G=new WeakMap),q(V,$,G)}}n.circularDeepEqual=I,n.circularShallowEqual=B,n.createCustomCircularEqual=J,n.createCustomEqual=U,n.deepEqual=h,n.sameValueZeroEqual=c,n.shallowEqual=R,Object.defineProperty(n,"__esModule",{value:!0})}(Qn.exports)),Qn.exports}var Zn,ft={exports:{}};function Lt(){if(Zn)return ft.exports;function n(t){var r,l,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var c=t.length;for(r=0;r<c;r++)t[r]&&(l=n(t[r]))&&(i&&(i+=" "),i+=l)}else for(l in t)t[l]&&(i&&(i+=" "),i+=l);return i}function e(){for(var t,r,l=0,i="",c=arguments.length;l<c;l++)(t=arguments[l])&&(r=n(t))&&(i&&(i+=" "),i+=r);return i}return Zn=1,ft.exports=e,ft.exports.clsx=e,ft.exports}var Jn,er,tr,X={};function Ve(){if(tr)return X;tr=1,Object.defineProperty(X,"__esModule",{value:!0}),X.bottom=r,X.childrenEqual=function(y,h){return(0,e.deepEqual)(t.default.Children.map(y,b=>b==null?void 0:b.key),t.default.Children.map(h,b=>b==null?void 0:b.key))&&(0,e.deepEqual)(t.default.Children.map(y,b=>b==null?void 0:b.props["data-grid"]),t.default.Children.map(h,b=>b==null?void 0:b.props["data-grid"]))},X.cloneLayout=l,X.cloneLayoutItem=c,X.collides=u,X.compact=g,X.compactItem=x,X.compactType=function(y){const{verticalCompact:h,compactType:b}=y||{};return h===!1?null:b},X.correctBounds=a,X.fastPositionEqual=function(y,h){return y.left===h.left&&y.top===h.top&&y.width===h.width&&y.height===h.height},X.fastRGLPropsEqual=void 0,X.getAllCollisions=d,X.getFirstCollision=s,X.getLayoutItem=o,X.getStatics=m,X.modifyLayout=i,X.moveElement=p,X.moveElementAwayFromCollision=v,X.noop=void 0,X.perc=function(y){return 100*y+"%"},X.resizeItemInDirection=function(y,h,b,R){const M=j[y];return M?M(h,{...h,...b},R):b},X.setTopLeft=function(y){let{top:h,left:b,width:R,height:M}=y;return{top:`${h}px`,left:`${b}px`,width:`${R}px`,height:`${M}px`,position:"absolute"}},X.setTransform=function(y){let{top:h,left:b,width:R,height:M}=y;const I=`translate(${b}px,${h}px)`;return{transform:I,WebkitTransform:I,MozTransform:I,msTransform:I,OTransform:I,width:`${R}px`,height:`${M}px`,position:"absolute"}},X.sortLayoutItems=E,X.sortLayoutItemsByColRow=L,X.sortLayoutItemsByRowCol=C,X.synchronizeLayoutWithChildren=function(y,h,b,R,M){y=y||[];const I=[];t.default.Children.forEach(h,B=>{if((B==null?void 0:B.key)==null)return;const U=o(y,String(B.key)),J=B.props["data-grid"];U&&J==null?I.push(c(U)):J?I.push(c({...J,i:B.key})):I.push(c({w:1,h:1,x:0,y:r(I),i:String(B.key)}))});const W=a(I,{cols:b});return M?W:g(W,R,b)},X.validateLayout=function(y){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const b=["x","y","w","h"];if(!Array.isArray(y))throw new Error(h+" must be an array!");for(let R=0,M=y.length;R<M;R++){const I=y[R];for(let W=0;W<b.length;W++){const B=b[W],U=I[B];if(typeof U!="number"||Number.isNaN(U))throw new Error(`ReactGridLayout: ${h}[${R}].${B} must be a number! Received: ${U} (${typeof U})`)}if(I.i!==void 0&&typeof I.i!="string")throw new Error(`ReactGridLayout: ${h}[${R}].i must be a string! Received: ${I.i} (${typeof I.i})`)}},X.withLayoutItem=function(y,h,b){let R=o(y,h);return R?(R=b(c(R)),[y=i(y,R),R]):[y,null]};var n,e=zt(),t=(n=Se())&&n.__esModule?n:{default:n};function r(y){let h,b=0;for(let R=0,M=y.length;R<M;R++)h=y[R].y+y[R].h,h>b&&(b=h);return b}function l(y){const h=Array(y.length);for(let b=0,R=y.length;b<R;b++)h[b]=c(y[b]);return h}function i(y,h){const b=Array(y.length);for(let R=0,M=y.length;R<M;R++)h.i===y[R].i?b[R]=h:b[R]=y[R];return b}function c(y){return{w:y.w,h:y.h,x:y.x,y:y.y,i:y.i,minW:y.minW,maxW:y.maxW,minH:y.minH,maxH:y.maxH,moved:!!y.moved,static:!!y.static,isDraggable:y.isDraggable,isResizable:y.isResizable,resizeHandles:y.resizeHandles,isBounded:y.isBounded}}function u(y,h){return y.i!==h.i&&!(y.x+y.w<=h.x)&&!(y.x>=h.x+h.w)&&!(y.y+y.h<=h.y)&&!(y.y>=h.y+h.h)}function g(y,h,b,R){const M=m(y),I=E(y,h),W=Array(y.length);for(let B=0,U=I.length;B<U;B++){let J=c(I[B]);J.static||(J=x(M,J,h,b,I,R),M.push(J)),W[y.indexOf(I[B])]=J,J.moved=!1}return W}X.fastRGLPropsEqual=er?Jn:(er=1,Jn=function(y,h,b){return y===h||y.className===h.className&&b(y.style,h.style)&&y.width===h.width&&y.autoSize===h.autoSize&&y.cols===h.cols&&y.draggableCancel===h.draggableCancel&&y.draggableHandle===h.draggableHandle&&b(y.verticalCompact,h.verticalCompact)&&b(y.compactType,h.compactType)&&b(y.layout,h.layout)&&b(y.margin,h.margin)&&b(y.containerPadding,h.containerPadding)&&y.rowHeight===h.rowHeight&&y.maxRows===h.maxRows&&y.isBounded===h.isBounded&&y.isDraggable===h.isDraggable&&y.isResizable===h.isResizable&&y.allowOverlap===h.allowOverlap&&y.preventCollision===h.preventCollision&&y.useCSSTransforms===h.useCSSTransforms&&y.transformScale===h.transformScale&&y.isDroppable===h.isDroppable&&b(y.resizeHandles,h.resizeHandles)&&b(y.resizeHandle,h.resizeHandle)&&y.onLayoutChange===h.onLayoutChange&&y.onDragStart===h.onDragStart&&y.onDrag===h.onDrag&&y.onDragStop===h.onDragStop&&y.onResizeStart===h.onResizeStart&&y.onResize===h.onResize&&y.onResizeStop===h.onResizeStop&&y.onDrop===h.onDrop&&b(y.droppingItem,h.droppingItem)&&b(y.innerRef,h.innerRef)});const f={x:"w",y:"h"};function w(y,h,b,R){const M=f[R];h[R]+=1;for(let I=y.map(W=>W.i).indexOf(h.i)+1;I<y.length;I++){const W=y[I];if(!W.static){if(W.y>h.y+h.h)break;u(h,W)&&w(y,W,b+h[M],R)}}h[R]=b}function x(y,h,b,R,M,I){const W=b==="horizontal";if(b==="vertical")for(h.y=Math.min(r(y),h.y);h.y>0&&!s(y,h);)h.y--;else if(W)for(;h.x>0&&!s(y,h);)h.x--;let B;for(;(B=s(y,h))&&(b!==null||!I);)if(W?w(M,h,B.x+B.w,"x"):w(M,h,B.y+B.h,"y"),W&&h.x+h.w>R)for(h.x=R-h.w,h.y++;h.x>0&&!s(y,h);)h.x--;return h.y=Math.max(h.y,0),h.x=Math.max(h.x,0),h}function a(y,h){const b=m(y);for(let R=0,M=y.length;R<M;R++){const I=y[R];if(I.x+I.w>h.cols&&(I.x=h.cols-I.w),I.x<0&&(I.x=0,I.w=h.cols),I.static)for(;s(b,I);)I.y++;else b.push(I)}return y}function o(y,h){for(let b=0,R=y.length;b<R;b++)if(y[b].i===h)return y[b]}function s(y,h){for(let b=0,R=y.length;b<R;b++)if(u(y[b],h))return y[b]}function d(y,h){return y.filter(b=>u(b,h))}function m(y){return y.filter(h=>h.static)}function p(y,h,b,R,M,I,W,B,U){if(h.static&&h.isDraggable!==!0||h.y===R&&h.x===b)return y;h.i,String(b),String(R),h.x,h.y;const J=h.x,A=h.y;typeof b=="number"&&(h.x=b),typeof R=="number"&&(h.y=R),h.moved=!0;let q=E(y,W);(W==="vertical"&&typeof R=="number"?A>=R:W==="horizontal"&&typeof b=="number"&&J>=b)&&(q=q.reverse());const V=d(q,h),$=V.length>0;if($&&U)return l(y);if($&&I)return h.i,h.x=J,h.y=A,h.moved=!1,y;for(let G=0,oe=V.length;G<oe;G++){const ne=V[G];h.i,h.x,h.y,ne.i,ne.x,ne.y,ne.moved||(y=ne.static?v(y,ne,h,M,W):v(y,h,ne,M,W))}return y}function v(y,h,b,R,M,I){const W=M==="horizontal",B=M==="vertical",U=h.static;if(R){R=!1;const q={x:W?Math.max(h.x-b.w,0):b.x,y:B?Math.max(h.y-b.h,0):b.y,w:b.w,h:b.h,i:"-1"},V=s(y,q),$=V&&V.y+V.h>h.y,G=V&&h.x+h.w>V.x;if(!V)return b.i,q.x,q.y,p(y,b,W?q.x:void 0,B?q.y:void 0,R,U,M);if($&&B)return p(y,b,void 0,h.y+1,R,U,M);if($&&M==null)return h.y=b.y,b.y=b.y+b.h,y;if(G&&W)return p(y,h,b.x,void 0,R,U,M)}const J=W?b.x+1:void 0,A=B?b.y+1:void 0;return J==null&&A==null?y:p(y,b,W?b.x+1:void 0,B?b.y+1:void 0,R,U,M)}const _=(y,h,b,R)=>y+b>R?h:b,D=(y,h,b)=>y<0?h:b,k=y=>Math.max(0,y),P=y=>Math.max(0,y),T=(y,h,b)=>{let{left:R,height:M,width:I}=h;const W=y.top-(M-y.height);return{left:R,width:I,height:D(W,y.height,M),top:P(W)}},z=(y,h,b)=>{let{top:R,left:M,height:I,width:W}=h;return{top:R,height:I,width:_(y.left,y.width,W,b),left:k(M)}},O=(y,h,b)=>{let{top:R,height:M,width:I}=h;const W=y.left-(I-y.width);return{height:M,width:W<0?y.width:_(y.left,y.width,I,b),top:P(R),left:k(W)}},N=(y,h,b)=>{let{top:R,left:M,height:I,width:W}=h;return{width:W,left:M,height:D(R,y.height,I),top:P(R)}},j={n:T,ne:function(){return T(arguments.length<=0?void 0:arguments[0],z(...arguments))},e:z,se:function(){return N(arguments.length<=0?void 0:arguments[0],z(...arguments))},s:N,sw:function(){return N(arguments.length<=0?void 0:arguments[0],O(...arguments))},w:O,nw:function(){return T(arguments.length<=0?void 0:arguments[0],O(...arguments))}};function E(y,h){return h==="horizontal"?L(y):h==="vertical"?C(y):y}function C(y){return y.slice(0).sort(function(h,b){return h.y>b.y||h.y===b.y&&h.x>b.x?1:h.y===b.y&&h.x===b.x?0:-1})}function L(y){return y.slice(0).sort(function(h,b){return h.x>b.x||h.x===b.x&&h.y>b.y?1:-1})}function H(){}return X.noop=()=>{},X}var nr,Ce={};function It(){if(nr)return Ce;function n(r){const{margin:l,containerPadding:i,containerWidth:c,cols:u}=r;return(c-l[0]*(u-1)-2*i[0])/u}function e(r,l,i){return Number.isFinite(r)?Math.round(l*r+Math.max(0,r-1)*i):r}function t(r,l,i){return Math.max(Math.min(r,i),l)}return nr=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.calcGridColWidth=n,Ce.calcGridItemPosition=function(r,l,i,c,u,g){const{margin:f,containerPadding:w,rowHeight:x}=r,a=n(r),o={};return g&&g.resizing?(o.width=Math.round(g.resizing.width),o.height=Math.round(g.resizing.height)):(o.width=e(c,a,f[0]),o.height=e(u,x,f[1])),g&&g.dragging?(o.top=Math.round(g.dragging.top),o.left=Math.round(g.dragging.left)):g&&g.resizing&&typeof g.resizing.top=="number"&&typeof g.resizing.left=="number"?(o.top=Math.round(g.resizing.top),o.left=Math.round(g.resizing.left)):(o.top=Math.round((x+f[1])*i+w[1]),o.left=Math.round((a+f[0])*l+w[0])),o},Ce.calcGridItemWHPx=e,Ce.calcWH=function(r,l,i,c,u,g){const{margin:f,maxRows:w,cols:x,rowHeight:a}=r,o=n(r);let s=Math.round((l+f[0])/(o+f[0])),d=Math.round((i+f[1])/(a+f[1])),m=t(s,0,x-c),p=t(d,0,w-u);return["sw","w","nw"].indexOf(g)!==-1&&(m=t(s,0,x)),["nw","n","ne"].indexOf(g)!==-1&&(p=t(d,0,w)),{w:m,h:p}},Ce.calcXY=function(r,l,i,c,u){const{margin:g,containerPadding:f,cols:w,rowHeight:x,maxRows:a}=r,o=n(r);let s=Math.round((i-f[0])/(o+g[0])),d=Math.round((l-f[1])/(x+g[1]));return s=t(s,0,w-c),d=t(d,0,a-u),{x:s,y:d}},Ce.clamp=t,Ce}var Ze={},Je={exports:{}},rr={};function or(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=or(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function ar(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=or(n))&&(r&&(r+=" "),r+=e);return r}const Sa=Co(Object.freeze(Object.defineProperty({__proto__:null,clsx:ar,default:ar},Symbol.toStringTag,{value:"Module"})));var sr,ie={},Ie={};function ht(){return sr||(sr=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.dontSetMe=function(n,e,t){if(n[e])return new Error("Invalid prop ".concat(e," passed to ").concat(t," - do not set this, set it on the child."))},Ie.findInArray=function(n,e){for(var t=0,r=n.length;t<r;t++)if(e.apply(e,[n[t],t,n]))return n[t]},Ie.int=function(n){return parseInt(n,10)},Ie.isFunction=function(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"},Ie.isNum=function(n){return typeof n=="number"&&!isNaN(n)}),Ie}var ir,lr,He={};function Ht(){if(lr)return ie;function n(a){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},n(a)}lr=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.addClassName=w,ie.addEvent=function(a,o,s,d){if(a){var m=i({capture:!0},d);a.addEventListener?a.addEventListener(o,s,m):a.attachEvent?a.attachEvent("on"+o,s):a["on"+o]=s}},ie.addUserSelectStyles=function(a){if(a){var o=a.getElementById("react-draggable-style-el");o||((o=a.createElement("style")).type="text/css",o.id="react-draggable-style-el",o.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,o.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,a.getElementsByTagName("head")[0].appendChild(o)),a.body&&w(a.body,"react-draggable-transparent-selection")}},ie.createCSSTransform=function(a,o){var s=f(a,o,"px");return c({},(0,t.browserPrefixToKey)("transform",t.default),s)},ie.createSVGTransform=function(a,o){return f(a,o,"")},ie.getTouch=function(a,o){return a.targetTouches&&(0,e.findInArray)(a.targetTouches,function(s){return o===s.identifier})||a.changedTouches&&(0,e.findInArray)(a.changedTouches,function(s){return o===s.identifier})},ie.getTouchIdentifier=function(a){if(a.targetTouches&&a.targetTouches[0])return a.targetTouches[0].identifier;if(a.changedTouches&&a.changedTouches[0])return a.changedTouches[0].identifier},ie.getTranslation=f,ie.innerHeight=function(a){var o=a.clientHeight,s=a.ownerDocument.defaultView.getComputedStyle(a);return o-=(0,e.int)(s.paddingTop),o-=(0,e.int)(s.paddingBottom)},ie.innerWidth=function(a){var o=a.clientWidth,s=a.ownerDocument.defaultView.getComputedStyle(a);return o-=(0,e.int)(s.paddingLeft),o-=(0,e.int)(s.paddingRight)},ie.matchesSelector=g,ie.matchesSelectorAndParentsTo=function(a,o,s){var d=a;do{if(g(d,o))return!0;if(d===s)return!1;d=d.parentNode}while(d);return!1},ie.offsetXYFromParent=function(a,o,s){var d=o===o.ownerDocument.body?{left:0,top:0}:o.getBoundingClientRect(),m=(a.clientX+o.scrollLeft-d.left)/s,p=(a.clientY+o.scrollTop-d.top)/s;return{x:m,y:p}},ie.outerHeight=function(a){var o=a.clientHeight,s=a.ownerDocument.defaultView.getComputedStyle(a);return o+=(0,e.int)(s.borderTopWidth),o+=(0,e.int)(s.borderBottomWidth)},ie.outerWidth=function(a){var o=a.clientWidth,s=a.ownerDocument.defaultView.getComputedStyle(a);return o+=(0,e.int)(s.borderLeftWidth),o+=(0,e.int)(s.borderRightWidth)},ie.removeClassName=x,ie.removeEvent=function(a,o,s,d){if(a){var m=i({capture:!0},d);a.removeEventListener?a.removeEventListener(o,s,m):a.detachEvent?a.detachEvent("on"+o,s):a["on"+o]=null}},ie.removeUserSelectStyles=function(a){if(a)try{if(a.body&&x(a.body,"react-draggable-transparent-selection"),a.selection)a.selection.empty();else{var o=(a.defaultView||window).getSelection();o&&o.type!=="Caret"&&o.removeAllRanges()}}catch{}};var e=ht(),t=function(a,o){if(a&&a.__esModule)return a;if(a===null||n(a)!=="object"&&typeof a!="function")return{default:a};var s=r(o);if(s&&s.has(a))return s.get(a);var d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in a)if(p!=="default"&&Object.prototype.hasOwnProperty.call(a,p)){var v=m?Object.getOwnPropertyDescriptor(a,p):null;v&&(v.get||v.set)?Object.defineProperty(d,p,v):d[p]=a[p]}return d.default=a,s&&s.set(a,d),d}(function(){if(ir)return He;ir=1,Object.defineProperty(He,"__esModule",{value:!0}),He.browserPrefixToKey=s,He.browserPrefixToStyle=function(m,p){return p?"-".concat(p.toLowerCase(),"-").concat(m):m},He.default=void 0,He.getPrefix=o;var a=["Moz","Webkit","O","ms"];function o(){var m,p,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var _=(m=window.document)===null||m===void 0||(p=m.documentElement)===null||p===void 0?void 0:p.style;if(!_||v in _)return"";for(var D=0;D<a.length;D++)if(s(v,a[D])in _)return a[D];return""}function s(m,p){return p?"".concat(p).concat(function(v){for(var _="",D=!0,k=0;k<v.length;k++)D?(_+=v[k].toUpperCase(),D=!1):v[k]==="-"?D=!0:_+=v[k];return _}(m)):m}var d=o();return He.default=d,He}());function r(a){if(typeof WeakMap!="function")return null;var o=new WeakMap,s=new WeakMap;return(r=function(d){return d?s:o})(a)}function l(a,o){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);o&&(d=d.filter(function(m){return Object.getOwnPropertyDescriptor(a,m).enumerable})),s.push.apply(s,d)}return s}function i(a){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?l(Object(s),!0).forEach(function(d){c(a,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach(function(d){Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(s,d))})}return a}function c(a,o,s){return o in a?Object.defineProperty(a,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[o]=s,a}var u="";function g(a,o){return u||(u=(0,e.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(s){return(0,e.isFunction)(a[s])})),!!(0,e.isFunction)(a[u])&&a[u](o)}function f(a,o,s){var d=a.x,m=a.y,p="translate(".concat(d).concat(s,",").concat(m).concat(s,")");if(o){var v="".concat(typeof o.x=="string"?o.x:o.x+s),_="".concat(typeof o.y=="string"?o.y:o.y+s);p="translate(".concat(v,", ").concat(_,")")+p}return p}function w(a,o){a.classList?a.classList.add(o):a.className.match(new RegExp("(?:^|\\s)".concat(o,"(?!\\S)")))||(a.className+=" ".concat(o))}function x(a,o){a.classList?a.classList.remove(o):a.className=a.className.replace(new RegExp("(?:^|\\s)".concat(o,"(?!\\S)"),"g"),"")}return ie}var cr,Oe={};function ur(){if(cr)return Oe;cr=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.canDragX=function(r){return r.props.axis==="both"||r.props.axis==="x"},Oe.canDragY=function(r){return r.props.axis==="both"||r.props.axis==="y"},Oe.createCoreData=function(r,l,i){var c=r.state,u=!(0,n.isNum)(c.lastX),g=t(r);return u?{node:g,deltaX:0,deltaY:0,lastX:l,lastY:i,x:l,y:i}:{node:g,deltaX:l-c.lastX,deltaY:i-c.lastY,lastX:c.lastX,lastY:c.lastY,x:l,y:i}},Oe.createDraggableData=function(r,l){var i=r.props.scale;return{node:l.node,x:r.state.x+l.deltaX/i,y:r.state.y+l.deltaY/i,deltaX:l.deltaX/i,deltaY:l.deltaY/i,lastX:r.state.x,lastY:r.state.y}},Oe.getBoundPosition=function(r,l,i){if(!r.props.bounds)return[l,i];var c=r.props.bounds;c=typeof c=="string"?c:function(s){return{left:s.left,top:s.top,right:s.right,bottom:s.bottom}}(c);var u=t(r);if(typeof c=="string"){var g,f=u.ownerDocument,w=f.defaultView;if(!((g=c==="parent"?u.parentNode:f.querySelector(c))instanceof w.HTMLElement))throw new Error('Bounds selector "'+c+'" could not find an element.');var x=g,a=w.getComputedStyle(u),o=w.getComputedStyle(x);c={left:-u.offsetLeft+(0,n.int)(o.paddingLeft)+(0,n.int)(a.marginLeft),top:-u.offsetTop+(0,n.int)(o.paddingTop)+(0,n.int)(a.marginTop),right:(0,e.innerWidth)(x)-(0,e.outerWidth)(u)-u.offsetLeft+(0,n.int)(o.paddingRight)-(0,n.int)(a.marginRight),bottom:(0,e.innerHeight)(x)-(0,e.outerHeight)(u)-u.offsetTop+(0,n.int)(o.paddingBottom)-(0,n.int)(a.marginBottom)}}return(0,n.isNum)(c.right)&&(l=Math.min(l,c.right)),(0,n.isNum)(c.bottom)&&(i=Math.min(i,c.bottom)),(0,n.isNum)(c.left)&&(l=Math.max(l,c.left)),(0,n.isNum)(c.top)&&(i=Math.max(i,c.top)),[l,i]},Oe.getControlPosition=function(r,l,i){var c=typeof l=="number"?(0,e.getTouch)(r,l):null;if(typeof l=="number"&&!c)return null;var u=t(i),g=i.props.offsetParent||u.offsetParent||u.ownerDocument.body;return(0,e.offsetXYFromParent)(c||r,g,i.props.scale)},Oe.snapToGrid=function(r,l,i){var c=Math.round(l/r[0])*r[0],u=Math.round(i/r[1])*r[1];return[c,u]};var n=ht(),e=Ht();function t(r){var l=r.findDOMNode();if(!l)throw new Error("<DraggableCore>: Unmounted during event!");return l}return Oe}var dr,pr,fr,hr,et={},mt={};function mr(){return dr||(dr=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.default=function(){}),mt}function _a(){if(pr)return et;function n(P){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},n(P)}pr=1,Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var e=function(P,T){if(P&&P.__esModule)return P;if(P===null||n(P)!=="object"&&typeof P!="function")return{default:P};var z=f(T);if(z&&z.has(P))return z.get(P);var O={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in P)if(j!=="default"&&Object.prototype.hasOwnProperty.call(P,j)){var E=N?Object.getOwnPropertyDescriptor(P,j):null;E&&(E.get||E.set)?Object.defineProperty(O,j,E):O[j]=P[j]}return O.default=P,z&&z.set(P,O),O}(Se()),t=g(qe()),r=g(Qt()),l=Ht(),i=ur(),c=ht(),u=g(mr());function g(P){return P&&P.__esModule?P:{default:P}}function f(P){if(typeof WeakMap!="function")return null;var T=new WeakMap,z=new WeakMap;return(f=function(O){return O?z:T})(P)}function w(P,T){return function(z){if(Array.isArray(z))return z}(P)||function(z,O){var N=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(N!=null){var j,E,C=[],L=!0,H=!1;try{for(N=N.call(z);!(L=(j=N.next()).done)&&(C.push(j.value),!O||C.length!==O);L=!0);}catch(y){H=!0,E=y}finally{try{L||N.return==null||N.return()}finally{if(H)throw E}}return C}}(P,T)||function(z,O){if(z){if(typeof z=="string")return x(z,O);var N=Object.prototype.toString.call(z).slice(8,-1);if(N==="Object"&&z.constructor&&(N=z.constructor.name),N==="Map"||N==="Set")return Array.from(z);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return x(z,O)}}(P,T)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function x(P,T){(T==null||T>P.length)&&(T=P.length);for(var z=0,O=new Array(T);z<T;z++)O[z]=P[z];return O}function a(P,T,z){return T&&function(O,N){for(var j=0;j<N.length;j++){var E=N[j];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}}(P.prototype,T),Object.defineProperty(P,"prototype",{writable:!1}),P}function o(P,T){return o=Object.setPrototypeOf||function(z,O){return z.__proto__=O,z},o(P,T)}function s(P){var T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var z,O=m(P);if(T){var N=m(this).constructor;z=Reflect.construct(O,arguments,N)}else z=O.apply(this,arguments);return function(j,E){if(E&&(n(E)==="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(j)}(this,z)}}function d(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function m(P){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},m(P)}function p(P,T,z){return T in P?Object.defineProperty(P,T,{value:z,enumerable:!0,configurable:!0,writable:!0}):P[T]=z,P}var v={start:"touchstart",move:"touchmove",stop:"touchend"},_={start:"mousedown",move:"mousemove",stop:"mouseup"},D=_,k=function(P){(function(O,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(N&&N.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),N&&o(O,N)})(z,P);var T=s(z);function z(){var O;(function(C,L){if(!(C instanceof L))throw new TypeError("Cannot call a class as a function")})(this,z);for(var N=arguments.length,j=new Array(N),E=0;E<N;E++)j[E]=arguments[E];return p(d(O=T.call.apply(T,[this].concat(j))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),p(d(O),"mounted",!1),p(d(O),"handleDragStart",function(C){if(O.props.onMouseDown(C),!O.props.allowAnyClick&&typeof C.button=="number"&&C.button!==0)return!1;var L=O.findDOMNode();if(!L||!L.ownerDocument||!L.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var H=L.ownerDocument;if(!(O.props.disabled||!(C.target instanceof H.defaultView.Node)||O.props.handle&&!(0,l.matchesSelectorAndParentsTo)(C.target,O.props.handle,L)||O.props.cancel&&(0,l.matchesSelectorAndParentsTo)(C.target,O.props.cancel,L))){C.type==="touchstart"&&C.preventDefault();var y=(0,l.getTouchIdentifier)(C);O.setState({touchIdentifier:y});var h=(0,i.getControlPosition)(C,y,d(O));if(h!=null){var b=h.x,R=h.y,M=(0,i.createCoreData)(d(O),b,R);(0,u.default)("DraggableCore: handleDragStart: %j",M),(0,u.default)("calling",O.props.onStart),O.props.onStart(C,M)!==!1&&O.mounted!==!1&&(O.props.enableUserSelectHack&&(0,l.addUserSelectStyles)(H),O.setState({dragging:!0,lastX:b,lastY:R}),(0,l.addEvent)(H,D.move,O.handleDrag),(0,l.addEvent)(H,D.stop,O.handleDragStop))}}}),p(d(O),"handleDrag",function(C){var L=(0,i.getControlPosition)(C,O.state.touchIdentifier,d(O));if(L!=null){var H=L.x,y=L.y;if(Array.isArray(O.props.grid)){var h=H-O.state.lastX,b=y-O.state.lastY,R=w((0,i.snapToGrid)(O.props.grid,h,b),2);if(h=R[0],b=R[1],!h&&!b)return;H=O.state.lastX+h,y=O.state.lastY+b}var M=(0,i.createCoreData)(d(O),H,y);if((0,u.default)("DraggableCore: handleDrag: %j",M),O.props.onDrag(C,M)!==!1&&O.mounted!==!1)O.setState({lastX:H,lastY:y});else try{O.handleDragStop(new MouseEvent("mouseup"))}catch{var I=document.createEvent("MouseEvents");I.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),O.handleDragStop(I)}}}),p(d(O),"handleDragStop",function(C){if(O.state.dragging){var L=(0,i.getControlPosition)(C,O.state.touchIdentifier,d(O));if(L!=null){var H=L.x,y=L.y;if(Array.isArray(O.props.grid)){var h=H-O.state.lastX||0,b=y-O.state.lastY||0,R=w((0,i.snapToGrid)(O.props.grid,h,b),2);h=R[0],b=R[1],H=O.state.lastX+h,y=O.state.lastY+b}var M=(0,i.createCoreData)(d(O),H,y);if(O.props.onStop(C,M)===!1||O.mounted===!1)return!1;var I=O.findDOMNode();I&&O.props.enableUserSelectHack&&(0,l.removeUserSelectStyles)(I.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",M),O.setState({dragging:!1,lastX:NaN,lastY:NaN}),I&&((0,u.default)("DraggableCore: Removing handlers"),(0,l.removeEvent)(I.ownerDocument,D.move,O.handleDrag),(0,l.removeEvent)(I.ownerDocument,D.stop,O.handleDragStop))}}}),p(d(O),"onMouseDown",function(C){return D=_,O.handleDragStart(C)}),p(d(O),"onMouseUp",function(C){return D=_,O.handleDragStop(C)}),p(d(O),"onTouchStart",function(C){return D=v,O.handleDragStart(C)}),p(d(O),"onTouchEnd",function(C){return D=v,O.handleDragStop(C)}),O}return a(z,[{key:"componentDidMount",value:function(){this.mounted=!0;var O=this.findDOMNode();O&&(0,l.addEvent)(O,v.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var O=this.findDOMNode();if(O){var N=O.ownerDocument;(0,l.removeEvent)(N,_.move,this.handleDrag),(0,l.removeEvent)(N,v.move,this.handleDrag),(0,l.removeEvent)(N,_.stop,this.handleDragStop),(0,l.removeEvent)(N,v.stop,this.handleDragStop),(0,l.removeEvent)(O,v.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,l.removeUserSelectStyles)(N)}}},{key:"findDOMNode",value:function(){var O,N,j;return(O=this.props)!==null&&O!==void 0&&O.nodeRef?(N=this.props)===null||N===void 0||(j=N.nodeRef)===null||j===void 0?void 0:j.current:r.default.findDOMNode(this)}},{key:"render",value:function(){return e.cloneElement(e.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),z}(e.Component);return et.default=k,p(k,"displayName","DraggableCore"),p(k,"propTypes",{allowAnyClick:t.default.bool,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:function(P,T){if(P[T]&&P[T].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:t.default.arrayOf(t.default.number),handle:t.default.string,cancel:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number,className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),p(k,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),et}function Oa(){return fr||(fr=1,function(n){function e(j){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},e(j)}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),n.default=void 0;var t=function(j,E){if(j&&j.__esModule)return j;if(j===null||e(j)!=="object"&&typeof j!="function")return{default:j};var C=o(E);if(C&&C.has(j))return C.get(j);var L={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var y in j)if(y!=="default"&&Object.prototype.hasOwnProperty.call(j,y)){var h=H?Object.getOwnPropertyDescriptor(j,y):null;h&&(h.get||h.set)?Object.defineProperty(L,y,h):L[y]=j[y]}return L.default=j,C&&C.set(j,L),L}(Se()),r=a(qe()),l=a(Qt()),i=a(Sa),c=Ht(),u=ur(),g=ht(),f=a(_a()),w=a(mr()),x=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function a(j){return j&&j.__esModule?j:{default:j}}function o(j){if(typeof WeakMap!="function")return null;var E=new WeakMap,C=new WeakMap;return(o=function(L){return L?C:E})(j)}function s(){return s=Object.assign||function(j){for(var E=1;E<arguments.length;E++){var C=arguments[E];for(var L in C)Object.prototype.hasOwnProperty.call(C,L)&&(j[L]=C[L])}return j},s.apply(this,arguments)}function d(j,E){if(j==null)return{};var C,L,H=function(h,b){if(h==null)return{};var R,M,I={},W=Object.keys(h);for(M=0;M<W.length;M++)R=W[M],b.indexOf(R)>=0||(I[R]=h[R]);return I}(j,E);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(j);for(L=0;L<y.length;L++)C=y[L],E.indexOf(C)>=0||Object.prototype.propertyIsEnumerable.call(j,C)&&(H[C]=j[C])}return H}function m(j,E){var C=Object.keys(j);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(j);E&&(L=L.filter(function(H){return Object.getOwnPropertyDescriptor(j,H).enumerable})),C.push.apply(C,L)}return C}function p(j){for(var E=1;E<arguments.length;E++){var C=arguments[E]!=null?arguments[E]:{};E%2?m(Object(C),!0).forEach(function(L){O(j,L,C[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(C)):m(Object(C)).forEach(function(L){Object.defineProperty(j,L,Object.getOwnPropertyDescriptor(C,L))})}return j}function v(j,E){return function(C){if(Array.isArray(C))return C}(j)||function(C,L){var H=C==null?null:typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(H!=null){var y,h,b=[],R=!0,M=!1;try{for(H=H.call(C);!(R=(y=H.next()).done)&&(b.push(y.value),!L||b.length!==L);R=!0);}catch(I){M=!0,h=I}finally{try{R||H.return==null||H.return()}finally{if(M)throw h}}return b}}(j,E)||function(C,L){if(C){if(typeof C=="string")return _(C,L);var H=Object.prototype.toString.call(C).slice(8,-1);if(H==="Object"&&C.constructor&&(H=C.constructor.name),H==="Map"||H==="Set")return Array.from(C);if(H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return _(C,L)}}(j,E)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _(j,E){(E==null||E>j.length)&&(E=j.length);for(var C=0,L=new Array(E);C<E;C++)L[C]=j[C];return L}function D(j,E){for(var C=0;C<E.length;C++){var L=E[C];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(j,L.key,L)}}function k(j,E){return k=Object.setPrototypeOf||function(C,L){return C.__proto__=L,C},k(j,E)}function P(j){var E=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,L=z(j);if(E){var H=z(this).constructor;C=Reflect.construct(L,arguments,H)}else C=L.apply(this,arguments);return function(y,h){if(h&&(e(h)==="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(y)}(this,C)}}function T(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function z(j){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},z(j)}function O(j,E,C){return E in j?Object.defineProperty(j,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):j[E]=C,j}var N=function(j){(function(h,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(b&&b.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),b&&k(h,b)})(y,j);var E,C,L,H=P(y);function y(h){var b;return function(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}(this,y),O(T(b=H.call(this,h)),"onDragStart",function(R,M){if((0,w.default)("Draggable: onDragStart: %j",M),b.props.onStart(R,(0,u.createDraggableData)(T(b),M))===!1)return!1;b.setState({dragging:!0,dragged:!0})}),O(T(b),"onDrag",function(R,M){if(!b.state.dragging)return!1;(0,w.default)("Draggable: onDrag: %j",M);var I=(0,u.createDraggableData)(T(b),M),W={x:I.x,y:I.y};if(b.props.bounds){var B=W.x,U=W.y;W.x+=b.state.slackX,W.y+=b.state.slackY;var J=v((0,u.getBoundPosition)(T(b),W.x,W.y),2),A=J[0],q=J[1];W.x=A,W.y=q,W.slackX=b.state.slackX+(B-W.x),W.slackY=b.state.slackY+(U-W.y),I.x=W.x,I.y=W.y,I.deltaX=W.x-b.state.x,I.deltaY=W.y-b.state.y}if(b.props.onDrag(R,I)===!1)return!1;b.setState(W)}),O(T(b),"onDragStop",function(R,M){if(!b.state.dragging||b.props.onStop(R,(0,u.createDraggableData)(T(b),M))===!1)return!1;(0,w.default)("Draggable: onDragStop: %j",M);var I={dragging:!1,slackX:0,slackY:0};if(b.props.position){var W=b.props.position,B=W.x,U=W.y;I.x=B,I.y=U}b.setState(I)}),b.state={dragging:!1,dragged:!1,x:h.position?h.position.x:h.defaultPosition.x,y:h.position?h.position.y:h.defaultPosition.y,prevPropsPosition:p({},h.position),slackX:0,slackY:0,isElementSVG:!1},!h.position||h.onDrag||h.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),b}return E=y,L=[{key:"getDerivedStateFromProps",value:function(h,b){var R=h.position,M=b.prevPropsPosition;return!R||M&&R.x===M.x&&R.y===M.y?null:((0,w.default)("Draggable: getDerivedStateFromProps %j",{position:R,prevPropsPosition:M}),{x:R.x,y:R.y,prevPropsPosition:p({},R)})}}],(C=[{key:"componentDidMount",value:function(){window.SVGElement!==void 0&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var h,b,R;return(h=(b=this.props)===null||b===void 0||(R=b.nodeRef)===null||R===void 0?void 0:R.current)!==null&&h!==void 0?h:l.default.findDOMNode(this)}},{key:"render",value:function(){var h,b=this.props;b.axis,b.bounds;var R=b.children,M=b.defaultPosition,I=b.defaultClassName,W=b.defaultClassNameDragging,B=b.defaultClassNameDragged,U=b.position,J=b.positionOffset;b.scale;var A=d(b,x),q={},V=null,$=!U||this.state.dragging,G=U||M,oe={x:(0,u.canDragX)(this)&&$?this.state.x:G.x,y:(0,u.canDragY)(this)&&$?this.state.y:G.y};this.state.isElementSVG?V=(0,c.createSVGTransform)(oe,J):q=(0,c.createCSSTransform)(oe,J);var ne=(0,i.default)(R.props.className||"",I,(O(h={},W,this.state.dragging),O(h,B,this.state.dragged),h));return t.createElement(f.default,s({},A,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(R),{className:ne,style:p(p({},R.props.style),q),transform:V}))}}])&&D(E.prototype,C),L&&D(E,L),Object.defineProperty(E,"prototype",{writable:!1}),y}(t.Component);n.default=N,O(N,"displayName","Draggable"),O(N,"propTypes",p(p({},f.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:g.dontSetMe,style:g.dontSetMe,transform:g.dontSetMe})),O(N,"defaultProps",p(p({},f.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(rr)),rr}function Wt(){if(hr)return Je.exports;hr=1;var n=Oa(),e=n.default,t=n.DraggableCore;return Je.exports=e,Je.exports.default=e,Je.exports.DraggableCore=t,Je.exports}var gr,gt={exports:{}},tt={},yt={};function ja(){if(gr)return yt;gr=1,yt.__esModule=!0,yt.cloneElement=function(i,c){return c.style&&i.props.style&&(c.style=r(r({},i.props.style),c.style)),c.className&&i.props.className&&(c.className=i.props.className+" "+c.className),e.default.cloneElement(i,c)};var n,e=(n=Se())&&n.__esModule?n:{default:n};function t(i,c){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(i);c&&(g=g.filter(function(f){return Object.getOwnPropertyDescriptor(i,f).enumerable})),u.push.apply(u,g)}return u}function r(i){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?t(Object(u),!0).forEach(function(g){l(i,g,u[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):t(Object(u)).forEach(function(g){Object.defineProperty(i,g,Object.getOwnPropertyDescriptor(u,g))})}return i}function l(i,c,u){return(c=function(g){var f=function(w,x){if(typeof w!="object"||w===null)return w;var a=w[Symbol.toPrimitive];if(a!==void 0){var o=a.call(w,x);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(w)}(g,"string");return typeof f=="symbol"?f:String(f)}(c))in i?Object.defineProperty(i,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[c]=u,i}return yt}var yr,br,nt={};function vr(){if(yr)return nt;yr=1,nt.__esModule=!0,nt.resizableProps=void 0;var n,e=(n=qe())&&n.__esModule?n:{default:n};Wt();var t={axis:e.default.oneOf(["both","x","y","none"]),className:e.default.string,children:e.default.element.isRequired,draggableOpts:e.default.shape({allowAnyClick:e.default.bool,cancel:e.default.string,children:e.default.node,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:e.default.node,grid:e.default.arrayOf(e.default.number),handle:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number}),height:function(){for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];var c,u=l[0];return u.axis==="both"||u.axis==="y"?(c=e.default.number).isRequired.apply(c,l):e.default.number.apply(e.default,l)},handle:e.default.oneOfType([e.default.node,e.default.func]),handleSize:e.default.arrayOf(e.default.number),lockAspectRatio:e.default.bool,maxConstraints:e.default.arrayOf(e.default.number),minConstraints:e.default.arrayOf(e.default.number),onResizeStop:e.default.func,onResizeStart:e.default.func,onResize:e.default.func,resizeHandles:e.default.arrayOf(e.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:e.default.number,width:function(){for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];var c,u=l[0];return u.axis==="both"||u.axis==="x"?(c=e.default.number).isRequired.apply(c,l):e.default.number.apply(e.default,l)}};return nt.resizableProps=t,nt}function wr(){if(br)return tt;br=1,tt.__esModule=!0,tt.default=void 0;var n=function(a,o){if(a&&a.__esModule)return a;if(a===null||typeof a!="object"&&typeof a!="function")return{default:a};var s=i(o);if(s&&s.has(a))return s.get(a);var d={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in a)if(p!=="default"&&Object.prototype.hasOwnProperty.call(a,p)){var v=m?Object.getOwnPropertyDescriptor(a,p):null;v&&(v.get||v.set)?Object.defineProperty(d,p,v):d[p]=a[p]}return d.default=a,s&&s.set(a,d),d}(Se()),e=Wt(),t=ja(),r=vr(),l=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function i(a){if(typeof WeakMap!="function")return null;var o=new WeakMap,s=new WeakMap;return(i=function(d){return d?s:o})(a)}function c(){return c=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(a[d]=s[d])}return a},c.apply(this,arguments)}function u(a,o){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);o&&(d=d.filter(function(m){return Object.getOwnPropertyDescriptor(a,m).enumerable})),s.push.apply(s,d)}return s}function g(a){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?u(Object(s),!0).forEach(function(d){f(a,d,s[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach(function(d){Object.defineProperty(a,d,Object.getOwnPropertyDescriptor(s,d))})}return a}function f(a,o,s){return(o=function(d){var m=function(p,v){if(typeof p!="object"||p===null)return p;var _=p[Symbol.toPrimitive];if(_!==void 0){var D=_.call(p,v);if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(p)}(d,"string");return typeof m=="symbol"?m:String(m)}(o))in a?Object.defineProperty(a,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[o]=s,a}function w(a,o){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,d){return s.__proto__=d,s},w(a,o)}var x=function(a){var o,s;function d(){for(var p,v=arguments.length,_=new Array(v),D=0;D<v;D++)_[D]=arguments[D];return(p=a.call.apply(a,[this].concat(_))||this).handleRefs={},p.lastHandleRect=null,p.slack=null,p}s=a,(o=d).prototype=Object.create(s.prototype),o.prototype.constructor=o,w(o,s);var m=d.prototype;return m.componentWillUnmount=function(){this.resetData()},m.resetData=function(){this.lastHandleRect=this.slack=null},m.runConstraints=function(p,v){var _=this.props,D=_.minConstraints,k=_.maxConstraints,P=_.lockAspectRatio;if(!D&&!k&&!P)return[p,v];if(P){var T=this.props.width/this.props.height,z=p-this.props.width,O=v-this.props.height;Math.abs(z)>Math.abs(O*T)?v=p/T:p=v*T}var N=p,j=v,E=this.slack||[0,0],C=E[0],L=E[1];return p+=C,v+=L,D&&(p=Math.max(D[0],p),v=Math.max(D[1],v)),k&&(p=Math.min(k[0],p),v=Math.min(k[1],v)),this.slack=[C+(N-p),L+(j-v)],[p,v]},m.resizeHandler=function(p,v){var _=this;return function(D,k){var P=k.node,T=k.deltaX,z=k.deltaY;p==="onResizeStart"&&_.resetData();var O=(_.props.axis==="both"||_.props.axis==="x")&&v!=="n"&&v!=="s",N=(_.props.axis==="both"||_.props.axis==="y")&&v!=="e"&&v!=="w";if(O||N){var j=v[0],E=v[v.length-1],C=P.getBoundingClientRect();_.lastHandleRect!=null&&(E==="w"&&(T+=C.left-_.lastHandleRect.left),j==="n"&&(z+=C.top-_.lastHandleRect.top)),_.lastHandleRect=C,E==="w"&&(T=-T),j==="n"&&(z=-z);var L=_.props.width+(O?T/_.props.transformScale:0),H=_.props.height+(N?z/_.props.transformScale:0),y=_.runConstraints(L,H);L=y[0],H=y[1];var h=L!==_.props.width||H!==_.props.height,b=typeof _.props[p]=="function"?_.props[p]:null;b&&!(p==="onResize"&&!h)&&(D.persist==null||D.persist(),b(D,{node:P,size:{width:L,height:H},handle:v})),p==="onResizeStop"&&_.resetData()}}},m.renderResizeHandle=function(p,v){var _=this.props.handle;if(!_)return n.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+p,ref:v});if(typeof _=="function")return _(p,v);var D=g({ref:v},typeof _.type=="string"?{}:{handleAxis:p});return n.cloneElement(_,D)},m.render=function(){var p=this,v=this.props,_=v.children,D=v.className,k=v.draggableOpts;v.width,v.height,v.handle,v.handleSize,v.lockAspectRatio,v.axis,v.minConstraints,v.maxConstraints,v.onResize,v.onResizeStop,v.onResizeStart;var P=v.resizeHandles;v.transformScale;var T=function(z,O){if(z==null)return{};var N,j,E={},C=Object.keys(z);for(j=0;j<C.length;j++)N=C[j],O.indexOf(N)>=0||(E[N]=z[N]);return E}(v,l);return(0,t.cloneElement)(_,g(g({},T),{},{className:(D?D+" ":"")+"react-resizable",children:[].concat(_.props.children,P.map(function(z){var O,N=(O=p.handleRefs[z])!=null?O:p.handleRefs[z]=n.createRef();return n.createElement(e.DraggableCore,c({},k,{nodeRef:N,key:"resizableHandle-"+z,onStop:p.resizeHandler("onResizeStop",z),onStart:p.resizeHandler("onResizeStart",z),onDrag:p.resizeHandler("onResize",z)}),p.renderResizeHandle(z,N))}))}))},d}(n.Component);return tt.default=x,x.propTypes=r.resizableProps,x.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},tt}var xr,Sr,rt={};function Ea(){if(xr)return rt;xr=1,rt.__esModule=!0,rt.default=void 0;var n=function(o,s){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var d=c(s);if(d&&d.has(o))return d.get(o);var m={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in o)if(v!=="default"&&Object.prototype.hasOwnProperty.call(o,v)){var _=p?Object.getOwnPropertyDescriptor(o,v):null;_&&(_.get||_.set)?Object.defineProperty(m,v,_):m[v]=o[v]}return m.default=o,d&&d.set(o,m),m}(Se()),e=i(qe()),t=i(wr()),r=vr(),l=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function i(o){return o&&o.__esModule?o:{default:o}}function c(o){if(typeof WeakMap!="function")return null;var s=new WeakMap,d=new WeakMap;return(c=function(m){return m?d:s})(o)}function u(){return u=Object.assign?Object.assign.bind():function(o){for(var s=1;s<arguments.length;s++){var d=arguments[s];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(o[m]=d[m])}return o},u.apply(this,arguments)}function g(o,s){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(o);s&&(m=m.filter(function(p){return Object.getOwnPropertyDescriptor(o,p).enumerable})),d.push.apply(d,m)}return d}function f(o){for(var s=1;s<arguments.length;s++){var d=arguments[s]!=null?arguments[s]:{};s%2?g(Object(d),!0).forEach(function(m){w(o,m,d[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):g(Object(d)).forEach(function(m){Object.defineProperty(o,m,Object.getOwnPropertyDescriptor(d,m))})}return o}function w(o,s,d){return(s=function(m){var p=function(v,_){if(typeof v!="object"||v===null)return v;var D=v[Symbol.toPrimitive];if(D!==void 0){var k=D.call(v,_);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(v)}(m,"string");return typeof p=="symbol"?p:String(p)}(s))in o?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o}function x(o,s){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,m){return d.__proto__=m,d},x(o,s)}var a=function(o){var s,d;function m(){for(var p,v=arguments.length,_=new Array(v),D=0;D<v;D++)_[D]=arguments[D];return(p=o.call.apply(o,[this].concat(_))||this).state={width:p.props.width,height:p.props.height,propsWidth:p.props.width,propsHeight:p.props.height},p.onResize=function(k,P){var T=P.size;p.props.onResize?(k.persist==null||k.persist(),p.setState(T,function(){return p.props.onResize&&p.props.onResize(k,P)})):p.setState(T)},p}return d=o,(s=m).prototype=Object.create(d.prototype),s.prototype.constructor=s,x(s,d),m.getDerivedStateFromProps=function(p,v){return v.propsWidth!==p.width||v.propsHeight!==p.height?{width:p.width,height:p.height,propsWidth:p.width,propsHeight:p.height}:null},m.prototype.render=function(){var p=this.props,v=p.handle,_=p.handleSize;p.onResize;var D=p.onResizeStart,k=p.onResizeStop,P=p.draggableOpts,T=p.minConstraints,z=p.maxConstraints,O=p.lockAspectRatio,N=p.axis;p.width,p.height;var j=p.resizeHandles,E=p.style,C=p.transformScale,L=function(H,y){if(H==null)return{};var h,b,R={},M=Object.keys(H);for(b=0;b<M.length;b++)h=M[b],y.indexOf(h)>=0||(R[h]=H[h]);return R}(p,l);return n.createElement(t.default,{axis:N,draggableOpts:P,handle:v,handleSize:_,height:this.state.height,lockAspectRatio:O,maxConstraints:z,minConstraints:T,onResizeStart:D,onResize:this.onResize,onResizeStop:k,resizeHandles:j,transformScale:C,width:this.state.width},n.createElement("div",u({},L,{style:f(f({},E),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},m}(n.Component);return rt.default=a,a.propTypes=f(f({},r.resizableProps),{},{children:e.default.element}),rt}var _r,Or,jr,Ne={};function Er(){if(_r)return Ne;_r=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.resizeHandleType=Ne.resizeHandleAxesType=Ne.default=void 0;var n=t(qe()),e=t(Se());function t(i){return i&&i.__esModule?i:{default:i}}const r=Ne.resizeHandleAxesType=n.default.arrayOf(n.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),l=Ne.resizeHandleType=n.default.oneOfType([n.default.node,n.default.func]);return Ne.default={className:n.default.string,style:n.default.object,width:n.default.number,autoSize:n.default.bool,cols:n.default.number,draggableCancel:n.default.string,draggableHandle:n.default.string,verticalCompact:function(i){i.verticalCompact},compactType:n.default.oneOf(["vertical","horizontal"]),layout:function(i){var c=i.layout;c!==void 0&&Ve().validateLayout(c,"layout")},margin:n.default.arrayOf(n.default.number),containerPadding:n.default.arrayOf(n.default.number),rowHeight:n.default.number,maxRows:n.default.number,isBounded:n.default.bool,isDraggable:n.default.bool,isResizable:n.default.bool,allowOverlap:n.default.bool,preventCollision:n.default.bool,useCSSTransforms:n.default.bool,transformScale:n.default.number,isDroppable:n.default.bool,resizeHandles:r,resizeHandle:l,onLayoutChange:n.default.func,onDragStart:n.default.func,onDrag:n.default.func,onDragStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,onResizeStop:n.default.func,onDrop:n.default.func,droppingItem:n.default.shape({i:n.default.string.isRequired,w:n.default.number.isRequired,h:n.default.number.isRequired}),children:function(i,c){const u=i[c],g={};e.default.Children.forEach(u,function(f){if((f==null?void 0:f.key)!=null){if(g[f.key])throw new Error('Duplicate child key "'+f.key+'" found! This will cause problems in ReactGridLayout.');g[f.key]=!0}})},innerRef:n.default.any},Ne}function Da(){if(Or)return Ze;Or=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=void 0;var n=f(Se()),e=Qt(),t=f(qe()),r=Wt(),l=(Sr||(Sr=1,gt.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},gt.exports.Resizable=wr().default,gt.exports.ResizableBox=Ea().default),gt.exports),i=Ve(),c=It(),u=Er(),g=f(Lt());function f(a){return a&&a.__esModule?a:{default:a}}function w(a,o,s){return(o=function(d){var m=function(p,v){if(typeof p!="object"||p===null)return p;var _=p[Symbol.toPrimitive];if(_!==void 0){var D=_.call(p,v);if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(p)}(d,"string");return typeof m=="symbol"?m:String(m)}(o))in a?Object.defineProperty(a,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[o]=s,a}let x=class extends n.default.Component{constructor(){super(...arguments),w(this,"state",{resizing:null,dragging:null,className:""}),w(this,"elementRef",n.default.createRef()),w(this,"onDragStart",(a,o)=>{let{node:s}=o;const{onDragStart:d,transformScale:m}=this.props;if(!d)return;const p={top:0,left:0},{offsetParent:v}=s;if(!v)return;const _=v.getBoundingClientRect(),D=s.getBoundingClientRect(),k=D.left/m,P=_.left/m,T=D.top/m,z=_.top/m;p.left=k-P+v.scrollLeft,p.top=T-z+v.scrollTop,this.setState({dragging:p});const{x:O,y:N}=(0,c.calcXY)(this.getPositionParams(),p.top,p.left,this.props.w,this.props.h);return d.call(this,this.props.i,O,N,{e:a,node:s,newPosition:p})}),w(this,"onDrag",(a,o,s)=>{let{node:d,deltaX:m,deltaY:p}=o;const{onDrag:v}=this.props;if(!v)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let _=this.state.dragging.top+p,D=this.state.dragging.left+m;const{isBounded:k,i:P,w:T,h:z,containerWidth:O}=this.props,N=this.getPositionParams();if(k){const{offsetParent:L}=d;if(L){const{margin:H,rowHeight:y,containerPadding:h}=this.props,b=L.clientHeight-(0,c.calcGridItemWHPx)(z,y,H[1]);_=(0,c.clamp)(_-h[1],0,b);const R=(0,c.calcGridColWidth)(N),M=O-(0,c.calcGridItemWHPx)(T,R,H[0]);D=(0,c.clamp)(D-h[0],0,M)}}const j={top:_,left:D};s?this.setState({dragging:j}):(0,e.flushSync)(()=>{this.setState({dragging:j})});const{x:E,y:C}=(0,c.calcXY)(N,_,D,T,z);return v.call(this,P,E,C,{e:a,node:d,newPosition:j})}),w(this,"onDragStop",(a,o)=>{let{node:s}=o;const{onDragStop:d}=this.props;if(!d)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:m,h:p,i:v}=this.props,{left:_,top:D}=this.state.dragging,k={top:D,left:_};this.setState({dragging:null});const{x:P,y:T}=(0,c.calcXY)(this.getPositionParams(),D,_,m,p);return d.call(this,v,P,T,{e:a,node:s,newPosition:k})}),w(this,"onResizeStop",(a,o,s)=>this.onResizeHandler(a,o,s,"onResizeStop")),w(this,"onResizeStart",(a,o,s)=>this.onResizeHandler(a,o,s,"onResizeStart")),w(this,"onResize",(a,o,s)=>this.onResizeHandler(a,o,s,"onResize"))}shouldComponentUpdate(a,o){if(this.props.children!==a.children||this.props.droppingPosition!==a.droppingPosition)return!0;const s=(0,c.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),d=(0,c.calcGridItemPosition)(this.getPositionParams(a),a.x,a.y,a.w,a.h,o);return!(0,i.fastPositionEqual)(s,d)||this.props.useCSSTransforms!==a.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(a){this.moveDroppingItem(a)}moveDroppingItem(a){const{droppingPosition:o}=this.props;if(!o)return;const s=this.elementRef.current;if(!s)return;const d=a.droppingPosition||{left:0,top:0},{dragging:m}=this.state,p=m&&o.left!==d.left||o.top!==d.top;if(m){if(p){const v=o.left-m.left,_=o.top-m.top;this.onDrag(o.e,{node:s,deltaX:v,deltaY:_},!0)}}else this.onDragStart(o.e,{node:s,deltaX:o.left,deltaY:o.top})}getPositionParams(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:a.cols,containerPadding:a.containerPadding,containerWidth:a.containerWidth,margin:a.margin,maxRows:a.maxRows,rowHeight:a.rowHeight}}createStyle(a){const{usePercentages:o,containerWidth:s,useCSSTransforms:d}=this.props;let m;return d?m=(0,i.setTransform)(a):(m=(0,i.setTopLeft)(a),o&&(m.left=(0,i.perc)(a.left/s),m.width=(0,i.perc)(a.width/s))),m}mixinDraggable(a,o){return n.default.createElement(r.DraggableCore,{disabled:!o,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},a)}curryResizeHandler(a,o){return(s,d)=>o(s,d,a)}mixinResizable(a,o,s){const{cols:d,minW:m,minH:p,maxW:v,maxH:_,transformScale:D,resizeHandles:k,resizeHandle:P}=this.props,T=this.getPositionParams(),z=(0,c.calcGridItemPosition)(T,0,0,d,0).width,O=(0,c.calcGridItemPosition)(T,0,0,m,p),N=(0,c.calcGridItemPosition)(T,0,0,v,_),j=[O.width,O.height],E=[Math.min(N.width,z),Math.min(N.height,1/0)];return n.default.createElement(l.Resizable,{draggableOpts:{disabled:!s},className:s?void 0:"react-resizable-hide",width:o.width,height:o.height,minConstraints:j,maxConstraints:E,onResizeStop:this.curryResizeHandler(o,this.onResizeStop),onResizeStart:this.curryResizeHandler(o,this.onResizeStart),onResize:this.curryResizeHandler(o,this.onResize),transformScale:D,resizeHandles:k,handle:P},a)}onResizeHandler(a,o,s,d){let{node:m,size:p,handle:v}=o;const _=this.props[d];if(!_)return;const{x:D,y:k,i:P,maxH:T,minH:z,containerWidth:O}=this.props,{minW:N,maxW:j}=this.props;let E=p;m&&(E=(0,i.resizeItemInDirection)(v,s,p,O),(0,e.flushSync)(()=>{this.setState({resizing:d==="onResizeStop"?null:E})}));let{w:C,h:L}=(0,c.calcWH)(this.getPositionParams(),E.width,E.height,D,k,v);C=(0,c.clamp)(C,Math.max(N,1),j),L=(0,c.clamp)(L,z,T),_.call(this,P,C,L,{e:a,node:m,size:E,handle:v})}render(){const{x:a,y:o,w:s,h:d,isDraggable:m,isResizable:p,droppingPosition:v,useCSSTransforms:_}=this.props,D=(0,c.calcGridItemPosition)(this.getPositionParams(),a,o,s,d,this.state),k=n.default.Children.only(this.props.children);let P=n.default.cloneElement(k,{ref:this.elementRef,className:(0,g.default)("react-grid-item",k.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":m,"react-draggable-dragging":!!this.state.dragging,dropping:!!v,cssTransforms:_}),style:{...this.props.style,...k.props.style,...this.createStyle(D)}});return P=this.mixinResizable(P,D,p),P=this.mixinDraggable(P,m),P}};return Ze.default=x,w(x,"propTypes",{children:t.default.element,cols:t.default.number.isRequired,containerWidth:t.default.number.isRequired,rowHeight:t.default.number.isRequired,margin:t.default.array.isRequired,maxRows:t.default.number.isRequired,containerPadding:t.default.array.isRequired,x:t.default.number.isRequired,y:t.default.number.isRequired,w:t.default.number.isRequired,h:t.default.number.isRequired,minW:function(a,o){const s=a[o];return typeof s!="number"?new Error("minWidth not Number"):s>a.w||s>a.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(a,o){const s=a[o];return typeof s!="number"?new Error("maxWidth not Number"):s<a.w||s<a.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(a,o){const s=a[o];return typeof s!="number"?new Error("minHeight not Number"):s>a.h||s>a.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(a,o){const s=a[o];return typeof s!="number"?new Error("maxHeight not Number"):s<a.h||s<a.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:t.default.string.isRequired,resizeHandles:u.resizeHandleAxesType,resizeHandle:u.resizeHandleType,onDragStop:t.default.func,onDragStart:t.default.func,onDrag:t.default.func,onResizeStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,isDraggable:t.default.bool.isRequired,isResizable:t.default.bool.isRequired,isBounded:t.default.bool.isRequired,static:t.default.bool,useCSSTransforms:t.default.bool.isRequired,transformScale:t.default.number,className:t.default.string,handle:t.default.string,cancel:t.default.string,droppingPosition:t.default.shape({e:t.default.object.isRequired,left:t.default.number.isRequired,top:t.default.number.isRequired})}),w(x,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1}),Ze}function Dr(){if(jr)return Qe;jr=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=void 0;var n=function(o,s){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var d=g(s);if(d&&d.has(o))return d.get(o);var m={__proto__:null},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in o)if(v!=="default"&&Object.prototype.hasOwnProperty.call(o,v)){var _=p?Object.getOwnPropertyDescriptor(o,v):null;_&&(_.get||_.set)?Object.defineProperty(m,v,_):m[v]=o[v]}return m.default=o,d&&d.set(o,m),m}(Se()),e=zt(),t=u(Lt()),r=Ve(),l=It(),i=u(Da()),c=u(Er());function u(o){return o&&o.__esModule?o:{default:o}}function g(o){if(typeof WeakMap!="function")return null;var s=new WeakMap,d=new WeakMap;return(g=function(m){return m?d:s})(o)}function f(o,s,d){return(s=function(m){var p=function(v,_){if(typeof v!="object"||v===null)return v;var D=v[Symbol.toPrimitive];if(D!==void 0){var k=D.call(v,_);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(v)}(m,"string");return typeof p=="symbol"?p:String(p)}(s))in o?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o}const w="react-grid-layout";let x=!1;try{x=/firefox/i.test(navigator.userAgent)}catch{}class a extends n.Component{constructor(){super(...arguments),f(this,"state",{activeDrag:null,layout:(0,r.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,r.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),f(this,"dragEnterCounter",0),f(this,"onDragStart",(s,d,m,p)=>{let{e:v,node:_}=p;const{layout:D}=this.state,k=(0,r.getLayoutItem)(D,s);if(!k)return;const P={w:k.w,h:k.h,x:k.x,y:k.y,placeholder:!0,i:s};return this.setState({oldDragItem:(0,r.cloneLayoutItem)(k),oldLayout:D,activeDrag:P}),this.props.onDragStart(D,k,k,null,v,_)}),f(this,"onDrag",(s,d,m,p)=>{let{e:v,node:_}=p;const{oldDragItem:D}=this.state;let{layout:k}=this.state;const{cols:P,allowOverlap:T,preventCollision:z}=this.props,O=(0,r.getLayoutItem)(k,s);if(!O)return;const N={w:O.w,h:O.h,x:O.x,y:O.y,placeholder:!0,i:s};k=(0,r.moveElement)(k,O,d,m,!0,z,(0,r.compactType)(this.props),P,T),this.props.onDrag(k,D,O,N,v,_),this.setState({layout:T?k:(0,r.compact)(k,(0,r.compactType)(this.props),P),activeDrag:N})}),f(this,"onDragStop",(s,d,m,p)=>{let{e:v,node:_}=p;if(!this.state.activeDrag)return;const{oldDragItem:D}=this.state;let{layout:k}=this.state;const{cols:P,preventCollision:T,allowOverlap:z}=this.props,O=(0,r.getLayoutItem)(k,s);if(!O)return;k=(0,r.moveElement)(k,O,d,m,!0,T,(0,r.compactType)(this.props),P,z);const N=z?k:(0,r.compact)(k,(0,r.compactType)(this.props),P);this.props.onDragStop(N,D,O,null,v,_);const{oldLayout:j}=this.state;this.setState({activeDrag:null,layout:N,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(N,j)}),f(this,"onResizeStart",(s,d,m,p)=>{let{e:v,node:_}=p;const{layout:D}=this.state,k=(0,r.getLayoutItem)(D,s);k&&(this.setState({oldResizeItem:(0,r.cloneLayoutItem)(k),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(D,k,k,null,v,_))}),f(this,"onResize",(s,d,m,p)=>{let{e:v,node:_,size:D,handle:k}=p;const{oldResizeItem:P}=this.state,{layout:T}=this.state,{cols:z,preventCollision:O,allowOverlap:N}=this.props;let j,E,C,L=!1;const[H,y]=(0,r.withLayoutItem)(T,s,b=>{let R;return E=b.x,C=b.y,["sw","w","nw","n","ne"].indexOf(k)!==-1&&(["sw","nw","w"].indexOf(k)!==-1&&(E=b.x+(b.w-d),d=b.x!==E&&E<0?b.w:d,E=E<0?0:E),["ne","n","nw"].indexOf(k)!==-1&&(C=b.y+(b.h-m),m=b.y!==C&&C<0?b.h:m,C=C<0?0:C),L=!0),O&&!N&&(R=(0,r.getAllCollisions)(T,{...b,w:d,h:m,x:E,y:C}).filter(M=>M.i!==b.i).length>0,R&&(C=b.y,m=b.h,E=b.x,d=b.w,L=!1)),b.w=d,b.h=m,b});if(!y)return;j=H,L&&(j=(0,r.moveElement)(H,y,E,C,!0,this.props.preventCollision,(0,r.compactType)(this.props),z,N));const h={w:y.w,h:y.h,x:y.x,y:y.y,static:!0,i:s};this.props.onResize(j,P,y,h,v,_),this.setState({layout:N?j:(0,r.compact)(j,(0,r.compactType)(this.props),z),activeDrag:h})}),f(this,"onResizeStop",(s,d,m,p)=>{let{e:v,node:_}=p;const{layout:D,oldResizeItem:k}=this.state,{cols:P,allowOverlap:T}=this.props,z=(0,r.getLayoutItem)(D,s),O=T?D:(0,r.compact)(D,(0,r.compactType)(this.props),P);this.props.onResizeStop(O,k,z,null,v,_);const{oldLayout:N}=this.state;this.setState({activeDrag:null,layout:O,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(O,N)}),f(this,"onDragOver",s=>{var H;if(s.preventDefault(),s.stopPropagation(),x&&!((H=s.nativeEvent.target)!=null&&H.classList.contains(w)))return!1;const{droppingItem:d,onDropDragOver:m,margin:p,cols:v,rowHeight:_,maxRows:D,width:k,containerPadding:P,transformScale:T}=this.props,z=m==null?void 0:m(s);if(z===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const O={...d,...z},{layout:N}=this.state,j=s.currentTarget.getBoundingClientRect(),E=s.clientX-j.left,C=s.clientY-j.top,L={left:E/T,top:C/T,e:s};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:y,top:h}=this.state.droppingPosition;(y!=E||h!=C)&&this.setState({droppingPosition:L})}}else{const y={cols:v,margin:p,maxRows:D,rowHeight:_,containerWidth:k,containerPadding:P||p},h=(0,l.calcXY)(y,C,E,O.w,O.h);this.setState({droppingDOMNode:n.createElement("div",{key:O.i}),droppingPosition:L,layout:[...N,{...O,x:h.x,y:h.y,static:!1,isDraggable:!0}]})}}),f(this,"removeDroppingPlaceholder",()=>{const{droppingItem:s,cols:d}=this.props,{layout:m}=this.state,p=(0,r.compact)(m.filter(v=>v.i!==s.i),(0,r.compactType)(this.props),d,this.props.allowOverlap);this.setState({layout:p,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),f(this,"onDragLeave",s=>{s.preventDefault(),s.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),f(this,"onDragEnter",s=>{s.preventDefault(),s.stopPropagation(),this.dragEnterCounter++}),f(this,"onDrop",s=>{s.preventDefault(),s.stopPropagation();const{droppingItem:d}=this.props,{layout:m}=this.state,p=m.find(v=>v.i===d.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(m,p,s)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(s,d){let m;return d.activeDrag?null:((0,e.deepEqual)(s.layout,d.propsLayout)&&s.compactType===d.compactType?(0,r.childrenEqual)(s.children,d.children)||(m=d.layout):m=s.layout,m?{layout:(0,r.synchronizeLayoutWithChildren)(m,s.children,s.cols,(0,r.compactType)(s),s.allowOverlap),compactType:s.compactType,children:s.children,propsLayout:s.layout}:null)}shouldComponentUpdate(s,d){return this.props.children!==s.children||!(0,r.fastRGLPropsEqual)(this.props,s,e.deepEqual)||this.state.activeDrag!==d.activeDrag||this.state.mounted!==d.mounted||this.state.droppingPosition!==d.droppingPosition}componentDidUpdate(s,d){if(!this.state.activeDrag){const m=this.state.layout,p=d.layout;this.onLayoutMaybeChanged(m,p)}}containerHeight(){if(!this.props.autoSize)return;const s=(0,r.bottom)(this.state.layout),d=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return s*this.props.rowHeight+(s-1)*this.props.margin[1]+2*d+"px"}onLayoutMaybeChanged(s,d){d||(d=this.state.layout),(0,e.deepEqual)(d,s)||this.props.onLayoutChange(s)}placeholder(){const{activeDrag:s}=this.state;if(!s)return null;const{width:d,cols:m,margin:p,containerPadding:v,rowHeight:_,maxRows:D,useCSSTransforms:k,transformScale:P}=this.props;return n.createElement(i.default,{w:s.w,h:s.h,x:s.x,y:s.y,i:s.i,className:"react-grid-placeholder "+(this.state.resizing?"placeholder-resizing":""),containerWidth:d,cols:m,margin:p,containerPadding:v||p,maxRows:D,rowHeight:_,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:k,transformScale:P},n.createElement("div",null))}processGridItem(s,d){if(!s||!s.key)return;const m=(0,r.getLayoutItem)(this.state.layout,String(s.key));if(!m)return null;const{width:p,cols:v,margin:_,containerPadding:D,rowHeight:k,maxRows:P,isDraggable:T,isResizable:z,isBounded:O,useCSSTransforms:N,transformScale:j,draggableCancel:E,draggableHandle:C,resizeHandles:L,resizeHandle:H}=this.props,{mounted:y,droppingPosition:h}=this.state,b=typeof m.isDraggable=="boolean"?m.isDraggable:!m.static&&T,R=typeof m.isResizable=="boolean"?m.isResizable:!m.static&&z,M=m.resizeHandles||L,I=b&&O&&m.isBounded!==!1;return n.createElement(i.default,{containerWidth:p,cols:v,margin:_,containerPadding:D||_,maxRows:P,rowHeight:k,cancel:E,handle:C,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:b,isResizable:R,isBounded:I,useCSSTransforms:N&&y,usePercentages:!y,transformScale:j,w:m.w,h:m.h,x:m.x,y:m.y,i:m.i,minH:m.minH,minW:m.minW,maxH:m.maxH,maxW:m.maxW,static:m.static,droppingPosition:d?h:void 0,resizeHandles:M,resizeHandle:H},s)}render(){const{className:s,style:d,isDroppable:m,innerRef:p}=this.props,v=(0,t.default)(w,s),_={height:this.containerHeight(),...d};return n.createElement("div",{ref:p,className:v,style:_,onDrop:m?this.onDrop:r.noop,onDragLeave:m?this.onDragLeave:r.noop,onDragEnter:m?this.onDragEnter:r.noop,onDragOver:m?this.onDragOver:r.noop},n.Children.map(this.props.children,D=>this.processGridItem(D)),m&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}return Qe.default=a,f(a,"displayName","ReactGridLayout"),f(a,"propTypes",c.default),f(a,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:r.noop,onDragStart:r.noop,onDrag:r.noop,onDragStop:r.noop,onResizeStart:r.noop,onResize:r.noop,onResizeStop:r.noop,onDrop:r.noop,onDropDragOver:r.noop}),Qe}var Cr,Nr,ot={},Be={};function kr(){if(Cr)return Be;Cr=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.findOrGenerateResponsiveLayout=function(t,r,l,i,c,u){if(t[l])return(0,n.cloneLayout)(t[l]);let g=t[i];const f=e(r),w=f.slice(f.indexOf(l));for(let x=0,a=w.length;x<a;x++){const o=w[x];if(t[o]){g=t[o];break}}return g=(0,n.cloneLayout)(g||[]),(0,n.compact)((0,n.correctBounds)(g,{cols:c}),u,c)},Be.getBreakpointFromWidth=function(t,r){const l=e(t);let i=l[0];for(let c=1,u=l.length;c<u;c++){const g=l[c];r>t[g]&&(i=g)}return i},Be.getColsFromBreakpoint=function(t,r){if(!r[t])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+t+" is missing!");return r[t]},Be.sortBreakpoints=e;var n=Ve();function e(t){return Object.keys(t).sort(function(r,l){return t[r]-t[l]})}return Be}function Ca(){if(Nr)return ot;Nr=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=void 0;var n=function(o,s){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var d=u(s);if(d&&d.has(o))return d.get(o);var m={__proto__:null},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in o)if(v!=="default"&&Object.prototype.hasOwnProperty.call(o,v)){var _=p?Object.getOwnPropertyDescriptor(o,v):null;_&&(_.get||_.set)?Object.defineProperty(m,v,_):m[v]=o[v]}return m.default=o,d&&d.set(o,m),m}(Se()),e=c(qe()),t=zt(),r=Ve(),l=kr(),i=c(Dr());function c(o){return o&&o.__esModule?o:{default:o}}function u(o){if(typeof WeakMap!="function")return null;var s=new WeakMap,d=new WeakMap;return(u=function(m){return m?d:s})(o)}function g(){return g=Object.assign?Object.assign.bind():function(o){for(var s=1;s<arguments.length;s++){var d=arguments[s];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(o[m]=d[m])}return o},g.apply(this,arguments)}function f(o,s,d){return(s=function(m){var p=function(v,_){if(typeof v!="object"||v===null)return v;var D=v[Symbol.toPrimitive];if(D!==void 0){var k=D.call(v,_);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(v)}(m,"string");return typeof p=="symbol"?p:String(p)}(s))in o?Object.defineProperty(o,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[s]=d,o}const w=o=>Object.prototype.toString.call(o);function x(o,s){return o==null?null:Array.isArray(o)?o:o[s]}let a=class extends n.Component{constructor(){super(...arguments),f(this,"state",this.generateInitialState()),f(this,"onLayoutChange",o=>{this.props.onLayoutChange(o,{...this.props.layouts,[this.state.breakpoint]:o})})}generateInitialState(){const{width:o,breakpoints:s,layouts:d,cols:m}=this.props,p=(0,l.getBreakpointFromWidth)(s,o),v=(0,l.getColsFromBreakpoint)(p,m),_=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,l.findOrGenerateResponsiveLayout)(d,s,p,p,v,_),breakpoint:p,cols:v}}static getDerivedStateFromProps(o,s){if(!(0,t.deepEqual)(o.layouts,s.layouts)){const{breakpoint:d,cols:m}=s;return{layout:(0,l.findOrGenerateResponsiveLayout)(o.layouts,o.breakpoints,d,d,m,o.compactType),layouts:o.layouts}}return null}componentDidUpdate(o){this.props.width==o.width&&this.props.breakpoint===o.breakpoint&&(0,t.deepEqual)(this.props.breakpoints,o.breakpoints)&&(0,t.deepEqual)(this.props.cols,o.cols)||this.onWidthChange(o)}onWidthChange(o){const{breakpoints:s,cols:d,layouts:m,compactType:p}=this.props,v=this.props.breakpoint||(0,l.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),_=this.state.breakpoint,D=(0,l.getColsFromBreakpoint)(v,d),k={...m};if(_!==v||o.breakpoints!==s||o.cols!==d){_ in k||(k[_]=(0,r.cloneLayout)(this.state.layout));let z=(0,l.findOrGenerateResponsiveLayout)(k,s,v,_,D,p);z=(0,r.synchronizeLayoutWithChildren)(z,this.props.children,D,p,this.props.allowOverlap),k[v]=z,this.props.onBreakpointChange(v,D),this.props.onLayoutChange(z,k),this.setState({breakpoint:v,layout:z,cols:D})}const P=x(this.props.margin,v),T=x(this.props.containerPadding,v);this.props.onWidthChange(this.props.width,P,D,T)}render(){const{breakpoint:o,breakpoints:s,cols:d,layouts:m,margin:p,containerPadding:v,onBreakpointChange:_,onLayoutChange:D,onWidthChange:k,...P}=this.props;return n.createElement(i.default,g({},P,{margin:x(p,this.state.breakpoint),containerPadding:x(v,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};return ot.default=a,f(a,"propTypes",{breakpoint:e.default.string,breakpoints:e.default.object,allowOverlap:e.default.bool,cols:e.default.object,margin:e.default.oneOfType([e.default.array,e.default.object]),containerPadding:e.default.oneOfType([e.default.array,e.default.object]),layouts(o,s){if(w(o[s])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+w(o[s]));Object.keys(o[s]).forEach(d=>{if(!(d in o.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,r.validateLayout)(o.layouts[d],"layouts."+d)})},width:e.default.number.isRequired,onBreakpointChange:e.default.func,onLayoutChange:e.default.func,onWidthChange:e.default.func}),f(a,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:r.noop,onLayoutChange:r.noop,onWidthChange:r.noop}),ot}var bt={},Pr=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(l,i){return l[0]===t&&(r=i,!0)}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),l=this.__entries__[r];return l&&l[1]},e.prototype.set=function(t,r){var l=n(this.__entries__,t);~l?this.__entries__[l][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,l=n(r,t);~l&&r.splice(l,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var l=0,i=this.__entries__;l<i.length;l++){var c=i[l];t.call(r,c[1],c[0])}},e}()}(),At=typeof window<"u"&&typeof document<"u"&&window.document===document,vt=typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),Na=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(vt):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)},ka=["top","right","bottom","left","width","height","size","weight"],Pa=typeof MutationObserver<"u",Ra=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,l=!1,i=0;function c(){r&&(r=!1,e()),l&&g()}function u(){Na(c)}function g(){var f=Date.now();if(r){if(f-i<2)return;l=!0}else r=!0,l=!1,setTimeout(u,t);i=f}return g}(this.refresh.bind(this),20)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){At&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Pa?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){At&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t;ka.some(function(l){return!!~r.indexOf(l)})&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),Rr=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var l=r[t];Object.defineProperty(n,l,{value:e[l],enumerable:!1,writable:!1,configurable:!0})}return n},Ue=function(n){return n&&n.ownerDocument&&n.ownerDocument.defaultView||vt},Mr=xt(0,0,0,0);function wt(n){return parseFloat(n)||0}function Tr(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,l){return r+wt(n["border-"+l+"-width"])},0)}function Ma(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return Mr;var r=Ue(n).getComputedStyle(n),l=function(x){for(var a={},o=0,s=["top","right","bottom","left"];o<s.length;o++){var d=s[o],m=x["padding-"+d];a[d]=wt(m)}return a}(r),i=l.left+l.right,c=l.top+l.bottom,u=wt(r.width),g=wt(r.height);if(r.boxSizing==="border-box"&&(Math.round(u+i)!==e&&(u-=Tr(r,"left","right")+i),Math.round(g+c)!==t&&(g-=Tr(r,"top","bottom")+c)),!function(x){return x===Ue(x).document.documentElement}(n)){var f=Math.round(u+i)-e,w=Math.round(g+c)-t;Math.abs(f)!==1&&(u-=f),Math.abs(w)!==1&&(g-=w)}return xt(l.left,l.top,u,g)}var Ta=typeof SVGGraphicsElement<"u"?function(n){return n instanceof Ue(n).SVGGraphicsElement}:function(n){return n instanceof Ue(n).SVGElement&&typeof n.getBBox=="function"};function za(n){return At?Ta(n)?function(e){var t=e.getBBox();return xt(0,0,t.width,t.height)}(n):Ma(n):Mr}function xt(n,e,t,r){return{x:n,y:e,width:t,height:r}}var La=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=xt(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=za(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),Ia=function(n,e){var t=function(r){var l=r.x,i=r.y,c=r.width,u=r.height,g=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,f=Object.create(g.prototype);return Rr(f,{x:l,y:i,width:c,height:u,top:i,right:l+c,bottom:u+i,left:l}),f}(e);Rr(this,{target:n,contentRect:t})},Ha=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new Pr,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(e instanceof Ue(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new La(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(e instanceof Ue(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new Ia(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),zr=typeof WeakMap<"u"?new WeakMap:new Pr,Lr=function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=Ra.getInstance(),r=new Ha(e,t,this);zr.set(this,r)};["observe","unobserve","disconnect"].forEach(function(n){Lr.prototype[n]=function(){var e;return(e=zr.get(this))[n].apply(e,arguments)}});var Wa=vt.ResizeObserver!==void 0?vt.ResizeObserver:Lr;const Aa=Co(Object.freeze(Object.defineProperty({__proto__:null,default:Wa},Symbol.toStringTag,{value:"Module"})));var Ir,Hr;function qa(){if(Ir)return bt;Ir=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.default=function(f){var w;return w=class extends n.Component{constructor(){super(...arguments),u(this,"state",{width:1280}),u(this,"elementRef",n.createRef()),u(this,"mounted",!1),u(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new t.default(a=>{if(this.elementRef.current instanceof HTMLElement){const o=a[0].contentRect.width;this.setState({width:o})}});const x=this.elementRef.current;x instanceof HTMLElement&&this.resizeObserver.observe(x)}componentWillUnmount(){this.mounted=!1;const x=this.elementRef.current;x instanceof HTMLElement&&this.resizeObserver.unobserve(x),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:x,...a}=this.props;return x&&!this.mounted?n.createElement("div",{className:(0,r.default)(this.props.className,g),style:this.props.style,ref:this.elementRef}):n.createElement(f,c({innerRef:this.elementRef},a,this.state))}},u(w,"defaultProps",{measureBeforeMount:!1}),u(w,"propTypes",{measureBeforeMount:e.default.bool}),w};var n=function(f,w){if(f&&f.__esModule)return f;if(f===null||typeof f!="object"&&typeof f!="function")return{default:f};var x=i(w);if(x&&x.has(f))return x.get(f);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in f)if(s!=="default"&&Object.prototype.hasOwnProperty.call(f,s)){var d=o?Object.getOwnPropertyDescriptor(f,s):null;d&&(d.get||d.set)?Object.defineProperty(a,s,d):a[s]=f[s]}return a.default=f,x&&x.set(f,a),a}(Se()),e=l(qe()),t=l(Aa),r=l(Lt());function l(f){return f&&f.__esModule?f:{default:f}}function i(f){if(typeof WeakMap!="function")return null;var w=new WeakMap,x=new WeakMap;return(i=function(a){return a?x:w})(f)}function c(){return c=Object.assign?Object.assign.bind():function(f){for(var w=1;w<arguments.length;w++){var x=arguments[w];for(var a in x)Object.prototype.hasOwnProperty.call(x,a)&&(f[a]=x[a])}return f},c.apply(this,arguments)}function u(f,w,x){return(w=function(a){var o=function(s,d){if(typeof s!="object"||s===null)return s;var m=s[Symbol.toPrimitive];if(m!==void 0){var p=m.call(s,d);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(s)}(a,"string");return typeof o=="symbol"?o:String(o)}(w))in f?Object.defineProperty(f,w,{value:x,enumerable:!0,configurable:!0,writable:!0}):f[w]=x,f}const g="react-grid-layout";return bt}var Ye,Wr=(Hr||(Hr=1,(Ye=Kn).exports=Dr().default,Ye.exports.utils=Ve(),Ye.exports.calculateUtils=It(),Ye.exports.Responsive=Ca().default,Ye.exports.Responsive.utils=kr(),Ye.exports.WidthProvider=qa().default),Kn.exports);let Ar;Ar=[Ks(),Qs({syntaxHighlighting:!0,highlightSpecialChars:!1,history:!1,drawSelection:!1,defaultKeymap:!1,historyKeymap:!1})],Nt=Z.memo(n=>{const e=F.c(8),{code:t,className:r}=n,{theme:l}=Zs();let i;e[0]!==r?(i=te(r,"text-muted-foreground flex flex-col overflow-hidden"),e[0]=r,e[1]=i):i=e[1];const c=l==="dark"?"dark":"light";let u,g;return e[2]!==t||e[3]!==c?(u=S.jsx(No,{minHeight:"10px",theme:c,height:"100%",className:"tiny-code",editable:!1,basicSetup:!1,extensions:Ar,value:t}),e[2]=t,e[3]=c,e[4]=u):u=e[4],e[5]!==i||e[6]!==u?(g=S.jsx("div",{className:i,children:u}),e[5]=i,e[6]=u,e[7]=g):g=e[7],g}),Nt.displayName="TinyCode";const Ba=Wr.WidthProvider(Wr.Responsive),Ga=[0,0],qt="grid-drag-handle",Bt=Z.memo(n=>{const e=F.c(20),{output:t,cellId:r,status:l,mode:i,code:c,hidden:u,isScrollable:g,side:f,className:w}=n;let x;e[0]!==l?(x=Zt(l),e[0]=l,e[1]=x):x=e[1];const a=x;if((t==null||t.data==="")&&i!=="read"){let P;return e[2]!==w||e[3]!==c?(P=S.jsx(Nt,{className:w,code:c}),e[2]=w,e[3]=c,e[4]=P):P=e[4],P}const o=u&&"invisible",s=g?"overflow-y-auto":"overflow-y-hidden",d=f==="top"&&"flex items-start",m=f==="bottom"&&"flex items-end",p=f==="left"&&"flex justify-start",v=f==="right"&&"flex justify-end";let _,D,k;return e[5]!==w||e[6]!==o||e[7]!==s||e[8]!==d||e[9]!==m||e[10]!==p||e[11]!==v?(_=te(w,"h-full w-full p-2 overflow-x-auto",o,s,d,m,p,v),e[5]=w,e[6]=o,e[7]=s,e[8]=d,e[9]=m,e[10]=p,e[11]=v,e[12]=_):_=e[12],e[13]!==r||e[14]!==a||e[15]!==t?(D=S.jsx(jt,{allowExpand:!1,output:t,cellId:r,stale:a,loading:a}),e[13]=r,e[14]=a,e[15]=t,e[16]=D):D=e[16],e[17]!==_||e[18]!==D?(k=S.jsx("div",{className:_,children:D}),e[17]=_,e[18]=D,e[19]=k):k=e[19],k});Bt.displayName="GridCell";const Fa=n=>{const e=F.c(38),{layout:t,setLayout:r,isLocked:l,setIsLocked:i}=n;let c,u,g,f,w,x,a,o,s,d,m,p,v,_,D;return e[0]===Symbol.for("react.memo_cache_sentinel")?(c=S.jsx(ut,{htmlFor:"columns",children:"Columns"}),e[0]=c):c=e[0],e[1]!==t||e[2]!==r?(u=k=>{r({...t,columns:k})},e[1]=t,e[2]=r,e[3]=u):u=e[3],e[4]!==t.columns||e[5]!==u?(g=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[c,S.jsx(Jt,{"data-testid":"grid-columns-input",id:"columns",value:t.columns,className:"w-[60px]",placeholder:"# of Columns",minValue:1,onChange:u})]}),e[4]=t.columns,e[5]=u,e[6]=g):g=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(f=S.jsx(ut,{htmlFor:"rowHeight",children:"Row Height (px)"}),e[7]=f):f=e[7],e[8]!==t||e[9]!==r?(w=k=>{r({...t,rowHeight:k})},e[8]=t,e[9]=r,e[10]=w):w=e[10],e[11]!==t.rowHeight||e[12]!==w?(x=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[f,S.jsx(Jt,{"data-testid":"grid-row-height-input",id:"rowHeight",value:t.rowHeight,className:"w-[60px]",placeholder:"Row Height (px)",minValue:1,onChange:w})]}),e[11]=t.rowHeight,e[12]=w,e[13]=x):x=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(a=S.jsx(ut,{htmlFor:"maxWidth",children:"Max Width (px)"}),e[14]=a):a=e[14],e[15]!==t||e[16]!==r?(o=k=>{r({...t,maxWidth:Number.isNaN(k)?void 0:k})},e[15]=t,e[16]=r,e[17]=o):o=e[17],e[18]!==t.maxWidth||e[19]!==o?(s=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[a,S.jsx(Jt,{"data-testid":"grid-max-width-input",id:"maxWidth",value:t.maxWidth,className:"w-[90px]",step:100,placeholder:"Full",onChange:o})]}),e[18]=t.maxWidth,e[19]=o,e[20]=s):s=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(d=S.jsxs(ut,{className:"flex flex-row items-center gap-1",htmlFor:"lock",children:[S.jsx(ti,{className:"h-3 w-3"}),"Bordered"]}),e[21]=d):d=e[21],e[22]!==t||e[23]!==r?(m=k=>{r({...t,bordered:k})},e[22]=t,e[23]=r,e[24]=m):m=e[24],e[25]!==t.bordered||e[26]!==m?(p=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[d,S.jsx(en,{"data-testid":"grid-bordered-switch",id:"lock",checked:t.bordered,size:"sm",onCheckedChange:m})]}),e[25]=t.bordered,e[26]=m,e[27]=p):p=e[27],e[28]===Symbol.for("react.memo_cache_sentinel")?(v=S.jsxs(ut,{className:"flex flex-row items-center gap-1",htmlFor:"lock",children:[S.jsx(vo,{className:"h-3 w-3"}),"Lock Grid"]}),e[28]=v):v=e[28],e[29]!==l||e[30]!==i?(_=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[v,S.jsx(en,{"data-testid":"grid-lock-switch",id:"lock",checked:l,size:"sm",onCheckedChange:i})]}),e[29]=l,e[30]=i,e[31]=_):_=e[31],e[32]!==p||e[33]!==_||e[34]!==g||e[35]!==x||e[36]!==s?(D=S.jsxs("div",{className:"flex flex-row absolute pl-5 top-8 gap-4 w-full justify-end pr-[350px] pb-3 border-b z-50",children:[g,x,s,p,_]}),e[32]=p,e[33]=_,e[34]=g,e[35]=x,e[36]=s,e[37]=D):D=e[37],D},qr=we.forwardRef((n,e)=>{const t=F.c(30);let r,l,i,c,u,g,f,w,x,a;t[0]!==n?({children:r,isDragging:c,className:l,onDelete:g,isScrollable:u,setIsScrollable:w,side:a,setSide:x,display:i,...f}=n,t[0]=n,t[1]=r,t[2]=l,t[3]=i,t[4]=c,t[5]=u,t[6]=g,t[7]=f,t[8]=w,t[9]=x,t[10]=a):(r=t[1],l=t[2],i=t[3],c=t[4],u=t[5],g=t[6],f=t[7],w=t[8],x=t[9],a=t[10]);const[o,s]=Z.useState(),d=o&&"border-[var(--sky-8)] z-20",m=!o&&"hover-actions-parent",p=c&&"bg-[var(--slate-2)] border-border z-20";let v,_,D;return t[11]!==l||t[12]!==d||t[13]!==m||t[14]!==p?(v=te(l,"relative z-10 hover:z-20","bg-background border-transparent hover:border-[var(--sky-8)] border",d,m,p),t[11]=l,t[12]=d,t[13]=m,t[14]=p,t[15]=v):v=t[15],t[16]!==i||t[17]!==u||t[18]!==g||t[19]!==o||t[20]!==w||t[21]!==x||t[22]!==a?(_=S.jsx(Va,{onDelete:g,isScrollable:u,setIsScrollable:w,side:a,setSide:x,display:i,setPopoverOpened:s,popoverOpened:o}),t[16]=i,t[17]=u,t[18]=g,t[19]=o,t[20]=w,t[21]=x,t[22]=a,t[23]=_):_=t[23],t[24]!==r||t[25]!==e||t[26]!==f||t[27]!==v||t[28]!==_?(D=S.jsxs("div",{ref:e,...f,className:v,children:[r,_]}),t[24]=r,t[25]=e,t[26]=f,t[27]=v,t[28]=_,t[29]=D):D=t[29],D});qr.displayName="EditableGridCell";const Va=n=>{const e=F.c(43),{display:t,onDelete:r,side:l,setSide:i,isScrollable:c,setIsScrollable:u,popoverOpened:g,setPopoverOpened:f}=n,w=l==="left"?Le:l==="right"?De:void 0,x=!g&&"hover-action",a=t==="top"&&"-top-6 rounded-t",o=t==="bottom"&&"-bottom-6 rounded-b";let s;e[0]!==x||e[1]!==a||e[2]!==o?(s=te("absolute right-0 p-1 bg-[var(--sky-8)] text-white h-6 z-10 flex gap-2",x,a,o),e[0]=x,e[1]=a,e[2]=o,e[3]=s):s=e[3];const d=g==="side";let m,p,v,_,D;e[4]!==f?(m=y=>f(y?"side":void 0),e[4]=f,e[5]=m):m=e[5],e[6]!==w?(p=S.jsx(tn,{asChild:!0,children:w?S.jsx(w,{className:"h-4 w-4 opacity-60 hover:opacity-100"}):S.jsx(_e,{className:"h-4 w-4 opacity-60 hover:opacity-100"})}),e[6]=w,e[7]=p):p=e[7],e[8]!==i||e[9]!==l?(v=Xt.entries(Ua).map(y=>{const[h,b]=y;return S.jsxs(ct,{onSelect:()=>i(h),children:[S.jsx(b,{className:"h-4 w-3 mr-2"}),S.jsx("span",{className:"flex-1",children:Js(h)}),h===l&&S.jsx(Po,{className:"h-4 w-4"})]},h)}),e[8]=i,e[9]=l,e[10]=v):v=e[10],e[11]!==v?(_=S.jsx(nn,{side:"bottom",children:v}),e[11]=v,e[12]=_):_=e[12],e[13]!==d||e[14]!==m||e[15]!==p||e[16]!==_?(D=S.jsxs(rn,{open:d,onOpenChange:m,children:[p,_]}),e[13]=d,e[14]=m,e[15]=p,e[16]=_,e[17]=D):D=e[17];const k=g==="scroll";let P,T,z,O,N,j,E,C,L,H;return e[18]!==f?(P=y=>f(y?"scroll":void 0),e[18]=f,e[19]=P):P=e[19],e[20]===Symbol.for("react.memo_cache_sentinel")?(T=S.jsx(tn,{asChild:!0,children:S.jsx(Mn,{className:"h-4 w-4 opacity-60 hover:opacity-100"})}),e[20]=T):T=e[20],e[21]!==c||e[22]!==u?(z=()=>u(!c),e[21]=c,e[22]=u,e[23]=z):z=e[23],e[24]===Symbol.for("react.memo_cache_sentinel")?(O=S.jsx("span",{className:"flex-1",children:"Scrollable"}),e[24]=O):O=e[24],e[25]!==c||e[26]!==u?(N=S.jsx(en,{"data-testid":"grid-scrollable-switch",checked:c,size:"sm",onCheckedChange:u}),e[25]=c,e[26]=u,e[27]=N):N=e[27],e[28]!==z||e[29]!==N?(j=S.jsx(nn,{side:"bottom",children:S.jsxs(ct,{onSelect:z,children:[O,N]})}),e[28]=z,e[29]=N,e[30]=j):j=e[30],e[31]!==k||e[32]!==P||e[33]!==j?(E=S.jsxs(rn,{open:k,onOpenChange:P,children:[T,j]}),e[31]=k,e[32]=P,e[33]=j,e[34]=E):E=e[34],e[35]===Symbol.for("react.memo_cache_sentinel")?(C=S.jsx(ei,{className:te(qt,"cursor-move","h-4 w-4 opacity-60 hover:opacity-100")}),e[35]=C):C=e[35],e[36]!==r?(L=S.jsx(ni,{className:"h-4 w-4 opacity-60 hover:opacity-100",onClick:()=>r()}),e[36]=r,e[37]=L):L=e[37],e[38]!==D||e[39]!==E||e[40]!==L||e[41]!==s?(H=S.jsxs("div",{className:s,children:[D,E,C,L]}),e[38]=D,e[39]=E,e[40]=L,e[41]=s,e[42]=H):H=e[42],H},Ua={left:Le,right:De};function Ya(n){return n.i}function $a(n){return n.i}function Xa(){window.dispatchEvent(new Event("resize"))}const Ka={type:"grid",name:"Grid",validator:ue.object({columns:ue.number().min(1),rowHeight:ue.number().min(1),maxWidth:ue.number().optional(),bordered:ue.boolean().optional(),cells:ue.array(ue.object({position:ue.tuple([ue.number(),ue.number(),ue.number(),ue.number()]).nullable(),scrollable:ue.boolean().optional(),alignment:ue.enum(["top","bottom","left","right"]).optional()}))}),deserializeLayout:(n,e)=>{if(n.cells.length===0)return{columns:n.columns,rowHeight:n.rowHeight,scrollableCells:new Set,cellSide:new Map,cells:[]};n.cells.length!==e.length&&Ee.warn("Number of cells in layout does not match number of cells in notebook");const t=new Set,r=new Map,l=n.cells.flatMap((i,c)=>{const u=i.position;if(!u)return[];const g=e[c];return g?(i.scrollable&&t.add(g.id),i.side&&r.set(g.id,i.side),{i:g.id,x:u[0],y:u[1],w:u[2],h:u[3]}):[]});return{columns:n.columns,rowHeight:n.rowHeight,maxWidth:n.maxWidth,bordered:n.bordered,cells:l,cellSide:r,scrollableCells:t}},serializeLayout:(n,e)=>{const t=ko.keyBy(n.cells,l=>l.i),r=e.map(l=>{const i=t.get(l.id);if(!i)return{position:null};const c={position:[i.x,i.y,i.w,i.h]};return n.scrollableCells.has(l.id)&&(c.scrollable=!0),n.cellSide.has(l.id)&&(c.side=n.cellSide.get(l.id)),c});return{columns:n.columns,rowHeight:n.rowHeight,maxWidth:n.maxWidth,bordered:n.bordered,cells:r}},Component:n=>{const e=F.c(156),{layout:t,setLayout:r,cells:l,mode:i}=n,c=i==="read";let u;e[0]!==t.cells?(u=new Set(t.cells.map(Ya)),e[0]=t.cells,e[1]=u):u=e[1];const g=u,[f,w]=Z.useState(null),[x,a]=Z.useState(!1);let o,s;e[2]!==t.columns?(s={lg:t.columns},e[2]=t.columns,e[3]=s):s=e[3],o=s;const d=o;let m,p;e[4]!==t.bordered?(m=()=>{const Y=document.getElementById("App");return t.bordered?Y==null||Y.classList.add("grid-bordered"):Y==null||Y.classList.remove("grid-bordered"),()=>{Y==null||Y.classList.remove("grid-bordered")}},p=[t.bordered],e[4]=t.bordered,e[5]=m,e[6]=p):(m=e[5],p=e[6]),Z.useEffect(m,p);const v=function(){const Y=F.c(9),[xe,Pe]=Z.useState(!1);let be;Y[0]===Symbol.for("react.memo_cache_sentinel")?(be={x:0,y:0},Y[0]=be):be=Y[0];const[se,ve]=we.useState(be),[Ge,$e]=we.useState(!1);let Re;Y[1]===Symbol.for("react.memo_cache_sentinel")?(Re=it=>{Pe(!0),ve({x:it.clientX,y:it.clientY})},Y[1]=Re):Re=Y[1];const Q=Re;let pe;Y[2]!==se||Y[3]!==xe?(pe=it=>{if(xe){const ws=it.clientX-se.x,xs=it.clientY-se.y;$e(Math.hypot(ws,xs)>10)}},Y[2]=se,Y[3]=xe,Y[4]=pe):pe=Y[4];const fe=pe;let Me;Y[5]===Symbol.for("react.memo_cache_sentinel")?(Me=()=>{Pe(!1),$e(!1)},Y[5]=Me):Me=Y[5];const Ae=Me,st=xe&&Ge;let _t;return Y[6]!==fe||Y[7]!==st?(_t={isDragging:st,onDragStart:Q,onDragMove:fe,onDragStop:Ae},Y[6]=fe,Y[7]=st,Y[8]=_t):_t=Y[8],_t}();let _,D;e[7]!==v?({isDragging:D,..._}=v,e[7]=v,e[8]=_,e[9]=D):(_=e[8],D=e[9]);const k=!c&&!x;let P,T,z,O,N,j,E,C,L,H,y,h,b,R,M,I,W,B,U,J,A,q,V,$,G,oe,ne;if(e[10]!==l||e[11]!==d||e[12]!==_||e[13]!==f||e[14]!==k||e[15]!==g||e[16]!==D||e[17]!==c||e[18]!==t||e[19]!==i||e[20]!==r){const Y=ko.keyBy(t.cells,$a);let xe;e[47]!==t||e[48]!==r?(xe=Q=>pe=>{const fe=new Set(t.scrollableCells);pe?fe.add(Q):fe.delete(Q),r({...t,scrollableCells:fe})},e[47]=t,e[48]=r,e[49]=xe):xe=e[49];const Pe=xe;let be;e[50]!==t||e[51]!==r?(be=Q=>pe=>{const fe=new Map(t.cellSide);pe===fe.get(Q)?fe.delete(Q):fe.set(Q,pe),r({...t,cellSide:fe})},e[50]=t,e[51]=r,e[52]=be):be=e[52];const se=be;e[53]!==k||e[54]!==t.columns||e[55]!==t.maxWidth||e[56]!==t.rowHeight?(T={},t.maxWidth&&(T.maxWidth=`${t.maxWidth}px`),k&&(T.backgroundImage="repeating-linear-gradient(var(--gray-4) 0 1px, transparent 1px 100%), repeating-linear-gradient(90deg, var(--gray-4) 0 1px, transparent 1px 100%)",T.backgroundSize=`calc((100% / ${t.columns})) ${t.rowHeight}px`),e[53]=k,e[54]=t.columns,e[55]=t.maxWidth,e[56]=t.rowHeight,e[57]=T):T=e[57],P=Ba,$="lg",e[58]!==t.cells?(G={lg:t.cells},e[58]=t.cells,e[59]=G):G=e[59],oe=T,z=d,O=!1;const ve=k&&"bg-[var(--slate-2)] border-r",Ge=c&&"disable-animation",$e=!t.maxWidth&&"min-w-[800px]";let Re;e[60]!==ve||e[61]!==Ge||e[62]!==$e?(N=te("w-full mx-auto bg-background flex-1 min-h-full",ve,Ge,$e),e[60]=ve,e[61]=Ge,e[62]=$e,e[63]=N):N=e[63],e[64]!==c?(j=c?[20,20]:void 0,e[64]=c,e[65]=j):j=e[65],E=Ga,C=!1,L=null,H=!0,y=t.rowHeight,e[66]!==t||e[67]!==r?(h=Q=>r({...t,cells:Q}),e[66]=t,e[67]=r,e[68]=h):h=e[68],e[69]!==f?(b=f?{i:f.i,w:f.w||2,h:f.h||2}:void 0,e[69]=f,e[70]=b):b=e[70],e[71]!==_||e[72]!==t||e[73]!==r?(R=(Q,pe,fe)=>{_.onDragStop(),pe&&r({...t,cells:[...Q,pe]})},e[71]=_,e[72]=t,e[73]=r,e[74]=R):R=e[74],e[75]!==_?(M=(Q,pe,fe,Me,Ae)=>{_.onDragStart(Ae)},I=(Q,pe,fe,Me,Ae)=>{_.onDragMove(Ae)},W=()=>{_.onDragStop()},e[75]=_,e[76]=M,e[77]=I,e[78]=W):(M=e[76],I=e[77],W=e[78]),B=Xa,U=k,J=k,A=k,q=k?`.${qt}`:"noop",e[79]!==g?(Re=Q=>g.has(Q.id),e[79]=g,e[80]=Re):Re=e[80],V=l.filter(Re).map(Q=>{const pe=Y.get(Q.id),fe=t.scrollableCells.has(Q.id)??!1,Me=t.cellSide.get(Q.id),Ae=S.jsx(Bt,{code:Q.code,mode:i,cellId:Q.id,output:Q.output,status:Q.status,isScrollable:fe,side:Me,hidden:Q.errored||Q.interrupted||Q.stopped});return k?S.jsx(qr,{id:Q.id,isDragging:D,side:Me,setSide:se(Q.id),isScrollable:fe,setIsScrollable:Pe(Q.id),display:(pe==null?void 0:pe.y)===0?"bottom":"top",onDelete:()=>{r({...t,cells:t.cells.filter(st=>st.i!==Q.id)})},children:Ae},Q.id):S.jsx("div",{children:Ae},Q.id)}),e[10]=l,e[11]=d,e[12]=_,e[13]=f,e[14]=k,e[15]=g,e[16]=D,e[17]=c,e[18]=t,e[19]=i,e[20]=r,e[21]=P,e[22]=T,e[23]=z,e[24]=O,e[25]=N,e[26]=j,e[27]=E,e[28]=C,e[29]=L,e[30]=H,e[31]=y,e[32]=h,e[33]=b,e[34]=R,e[35]=M,e[36]=I,e[37]=W,e[38]=B,e[39]=U,e[40]=J,e[41]=A,e[42]=q,e[43]=V,e[44]=$,e[45]=G,e[46]=oe}else P=e[21],T=e[22],z=e[23],O=e[24],N=e[25],j=e[26],E=e[27],C=e[28],L=e[29],H=e[30],y=e[31],h=e[32],b=e[33],R=e[34],M=e[35],I=e[36],W=e[37],B=e[38],U=e[39],J=e[40],A=e[41],q=e[42],V=e[43],$=e[44],G=e[45],oe=e[46];e[81]!==P||e[82]!==z||e[83]!==O||e[84]!==N||e[85]!==j||e[86]!==E||e[87]!==C||e[88]!==L||e[89]!==H||e[90]!==y||e[91]!==h||e[92]!==b||e[93]!==R||e[94]!==M||e[95]!==I||e[96]!==W||e[97]!==B||e[98]!==U||e[99]!==J||e[100]!==A||e[101]!==q||e[102]!==V||e[103]!==$||e[104]!==G||e[105]!==oe?(ne=S.jsx(P,{breakpoint:$,layouts:G,style:oe,cols:z,allowOverlap:O,className:N,containerPadding:j,margin:E,isBounded:C,compactType:L,preventCollision:H,rowHeight:y,onLayoutChange:h,droppingItem:b,onDrop:R,onDragStart:M,onDrag:I,onDragStop:W,onResizeStop:B,isDraggable:U,isDroppable:J,isResizable:A,draggableHandle:q,children:V}),e[81]=P,e[82]=z,e[83]=O,e[84]=N,e[85]=j,e[86]=E,e[87]=C,e[88]=L,e[89]=H,e[90]=y,e[91]=h,e[92]=b,e[93]=R,e[94]=M,e[95]=I,e[96]=W,e[97]=B,e[98]=U,e[99]=J,e[100]=A,e[101]=q,e[102]=V,e[103]=$,e[104]=G,e[105]=oe,e[106]=ne):ne=e[106];let ae,le,ee,K,ce,ye,ke,he,St,me=ne;if(c){if(t.bordered){let Y;e[107]!==me||e[108]!==T?(Y=S.jsx("div",{className:"flex flex-1 flex-col items-center",children:S.jsx("div",{style:T,className:"bg-background flex-1 border-t border-x rounded-t shadow-sm w-full overflow-hidden",children:me})}),e[107]=me,e[108]=T,e[109]=Y):Y=e[109],me=Y}return me}if(e[110]!==l||e[111]!==me||e[112]!==g||e[113]!==x||e[114]!==t||e[115]!==i||e[116]!==r||e[117]!==T){let Y;e[125]!==g?(Y=se=>!g.has(se.id),e[125]=g,e[126]=Y):Y=e[126];const xe=l.filter(Y);if(t.bordered){let se,ve;e[127]!==me?(se=S.jsx("div",{className:"h-full overflow-auto",children:me}),e[127]=me,e[128]=se):se=e[128],e[129]!==T||e[130]!==se?(ve=S.jsx("div",{style:T,className:"bg-background border-t border-x rounded-t shadow-sm w-full mx-auto mt-4 h-[calc(100%-1rem)] overflow-hidden",children:se}),e[129]=T,e[130]=se,e[131]=ve):ve=e[131],me=ve}let Pe,be;e[132]!==x||e[133]!==t||e[134]!==r?(ye=S.jsx(Fa,{layout:t,setLayout:r,isLocked:x,setIsLocked:a}),e[132]=x,e[133]=t,e[134]=r,e[135]=ye):ye=e[135],e[136]===Symbol.for("react.memo_cache_sentinel")?(K=te("relative flex z-10 flex-1 overflow-hidden"),Pe=te("flex-grow overflow-auto transparent-when-disconnected"),e[136]=K,e[137]=Pe):(K=e[136],Pe=e[137]),e[138]!==me?(ce=S.jsx("div",{className:Pe,children:me}),e[138]=me,e[139]=ce):ce=e[139],ae="flex-none flex flex-col w-[300px] p-2 pb-20 gap-2 overflow-auto bg-[var(--slate-2)] border-t border-x rounded-t shadow-sm transparent-when-disconnected mx-2 mt-4",e[140]===Symbol.for("react.memo_cache_sentinel")?(le=S.jsx("div",{className:"text font-bold text-[var(--slate-20)] flex-shrink-0",children:"Outputs"}),e[140]=le):le=e[140],e[141]!==t.columns||e[142]!==t.rowHeight||e[143]!==i?(be=se=>S.jsx("div",{draggable:!0,unselectable:"on","data-cell-id":se.id,onDragStart:ve=>{const Ge=ve.currentTarget.offsetHeight;w({i:se.id,w:t.columns/4,h:Math.ceil(Ge/t.rowHeight)||1}),ve.dataTransfer.setData("text/plain","")},className:te(qt,"droppable-element bg-background border-border border overflow-hidden p-2 rounded flex-shrink-0"),children:S.jsx(Bt,{code:se.code,className:"select-none pointer-events-none",mode:i,cellId:se.id,output:se.output,isScrollable:!1,status:se.status,hidden:!1})},se.id),e[141]=t.columns,e[142]=t.rowHeight,e[143]=i,e[144]=be):be=e[144],ee=xe.map(be),e[110]=l,e[111]=me,e[112]=g,e[113]=x,e[114]=t,e[115]=i,e[116]=r,e[117]=T,e[118]=ae,e[119]=le,e[120]=ee,e[121]=K,e[122]=ce,e[123]=ye,e[124]=me}else ae=e[118],le=e[119],ee=e[120],K=e[121],ce=e[122],ye=e[123],me=e[124];return e[145]!==ae||e[146]!==le||e[147]!==ee?(ke=S.jsxs("div",{className:ae,children:[le,ee]}),e[145]=ae,e[146]=le,e[147]=ee,e[148]=ke):ke=e[148],e[149]!==K||e[150]!==ce||e[151]!==ke?(he=S.jsxs("div",{className:K,children:[ce,ke]}),e[149]=K,e[150]=ce,e[151]=ke,e[152]=he):he=e[152],e[153]!==ye||e[154]!==he?(St=S.jsxs(S.Fragment,{children:[ye,he]}),e[153]=ye,e[154]=he,e[155]=St):St=e[155],St},getInitialLayout:()=>({columns:24,rowHeight:20,maxWidth:1400,bordered:!0,scrollableCells:new Set,cellSide:new Map,cells:[]})},Qa=we.lazy(()=>ri(()=>import("./slides-component-Bj1IZwWl.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),Br=Z.memo(n=>{const e=F.c(6),{output:t,cellId:r,status:l}=n;let i;e[0]!==l?(i=Zt(l),e[0]=l,e[1]=i):i=e[1];const c=i;let u;return e[2]!==r||e[3]!==c||e[4]!==t?(u=S.jsx(jt,{className:"contents",allowExpand:!1,output:t,cellId:r,stale:c,loading:c}),e[2]=r,e[3]=c,e[4]=t,e[5]=u):u=e[5],u});Br.displayName="Slide";const Za={type:"slides",name:"Slides",validator:ue.object({}),deserializeLayout:(n,e)=>({}),serializeLayout:(n,e)=>({}),Component:n=>{const e=F.c(11),{cells:t,mode:r}=n,l=r==="read";let i,c;if(e[0]!==t||e[1]!==r){let f;e[3]!==r?(f=w=>w.output==null||w.output.data===""?null:S.jsx(Br,{cellId:w.id,code:w.code,status:w.status,output:w.output,mode:r},w.id),e[3]=r,e[4]=f):f=e[4],i=t.map(f),e[0]=t,e[1]=r,e[2]=i}else i=e[2];e[5]!==i?(c=S.jsx(Qa,{forceKeyboardNavigation:!0,children:i}),e[5]=i,e[6]=c):c=e[6];const u=c;if(l){let f;return e[7]!==u?(f=S.jsx("div",{className:"p-4",children:u}),e[7]=u,e[8]=f):f=e[8],f}let g;return e[9]!==u?(g=S.jsx("div",{className:"pr-9",children:u}),e[9]=u,e[10]=g):g=e[10],g},getInitialLayout:()=>({})};Z.memo(n=>{const e=we.useRef({});return S.jsx(No,{minHeight:"200px",maxHeight:"200px",ref:e,theme:"dark",value:n.code,className:"[&>*]:outline-none [&>.cm-editor]:pr-0 overflow-hidden dark",readOnly:!0,editable:!1,basicSetup:{lineNumbers:!1},extensions:[rl.shell(),oi.updateListener.of(t=>{var r;t.docChanged&&((r=e.current.view)==null||r.dispatch({selection:{anchor:t.state.doc.length,head:t.state.doc.length},scrollIntoView:!0}))})]})}).displayName="DebuggerOutput";const Ja=n=>{const e=F.c(30),{onSubmit:t,onClear:r}=n;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=te("m-0 w-9 h-8 bg-[var(--slate-2)] text-[var(--slate-11)] hover:text-[var(--blue-11)] rounded-none hover:bg-[var(--sky-3)] hover:border-[var(--blue-8)]","first:rounded-l-lg first:border-l border-t border-b hover:border","last:rounded-r-lg last:border-r"),e[0]=l):l=e[0];const i=l;let c,u,g,f,w,x,a,o,s,d,m,p,v,_,D;return e[1]!==t?(c=()=>t("n"),e[1]=t,e[2]=c):c=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx(Tn,{fontSize:36,className:"w-5 h-5"}),e[3]=u):u=e[3],e[4]!==c?(g=S.jsx(Te,{content:"Next line",children:S.jsx(ze,{variant:"text",size:"icon","data-testid":"debugger-next-button",className:i,onClick:c,children:u})}),e[4]=c,e[5]=g):g=e[5],e[6]!==t?(f=()=>t("c"),e[6]=t,e[7]=f):f=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(w=te(i,"text-[var(--grass-11)] hover:text-[var(--grass-11)] hover:bg-[var(--grass-3)] hover:border-[var(--grass-8)]"),x=S.jsx(wn,{fontSize:36,className:"w-5 h-5"}),e[8]=w,e[9]=x):(w=e[8],x=e[9]),e[10]!==f?(a=S.jsx(Te,{content:"Continue execution",children:S.jsx(ze,{variant:"text",size:"icon","data-testid":"debugger-continue-button",onClick:f,className:w,children:x})}),e[10]=f,e[11]=a):a=e[11],e[12]!==t?(o=()=>t("bt"),e[12]=t,e[13]=o):o=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(s=S.jsx(Rn,{fontSize:36,className:"w-5 h-5"}),e[14]=s):s=e[14],e[15]!==o?(d=S.jsx(Te,{content:"Print stack trace",children:S.jsx(ze,{variant:"text",size:"icon","data-testid":"debugger-stack-button",className:i,onClick:o,children:s})}),e[15]=o,e[16]=d):d=e[16],e[17]!==t?(m=()=>t("help"),e[17]=t,e[18]=m):m=e[18],e[19]===Symbol.for("react.memo_cache_sentinel")?(p=S.jsx(ai,{fontSize:36,className:"w-5 h-5"}),e[19]=p):p=e[19],e[20]!==m?(v=S.jsx(Te,{content:"Help",children:S.jsx(ze,{variant:"text",size:"icon","data-testid":"debugger-help-button",className:i,onClick:m,children:p})}),e[20]=m,e[21]=v):v=e[21],e[22]!==r?(_=r&&S.jsx(Te,{content:"Clear",children:S.jsx(ze,{variant:"text",size:"icon","data-testid":"debugger-clear-button",className:te(i,"text-[var(--red-11)] hover:text-[var(--red-11)] hover:bg-[var(--red-2)] hover:border-[var(--red-8)]"),onClick:r,children:S.jsx(Ln,{fontSize:36,className:"w-5 h-5"})})}),e[22]=r,e[23]=_):_=e[23],e[24]!==d||e[25]!==v||e[26]!==_||e[27]!==g||e[28]!==a?(D=S.jsxs("div",{className:"flex",children:[g,a,d,v,_]}),e[24]=d,e[25]=v,e[26]=_,e[27]=g,e[28]=a,e[29]=D):D=e[29],D};let Gr;Fo=n=>{const e=F.c(13);let t,r,l,i;e[0]!==n?({value:i,onChange:t,placeholder:r,...l}=n,e[0]=n,e[1]=t,e[2]=r,e[3]=l,e[4]=i):(t=e[1],r=e[2],l=e[3],i=e[4]);const c=Z.useRef(null),u=Fr(i,t);let g;e[5]!==u.onBlur?(g=()=>{const o=u.onBlur,s=c.current;if(s)return s.addEventListener("blur",o),()=>{s.removeEventListener("blur",o)}},e[5]=u.onBlur,e[6]=g):g=e[6],Mo(g);const f=u.value,w=u.onChange;let x,a;return e[7]===Symbol.for("react.memo_cache_sentinel")?(x=on.onEnter(on.stopPropagation()),e[7]=x):x=e[7],e[8]!==u.onChange||e[9]!==u.value||e[10]!==r||e[11]!==l?(a=S.jsx(To,{"data-testid":"cell-name-input",value:f,onChange:w,ref:c,placeholder:r,className:"shadow-none! hover:shadow-none focus:shadow-none focus-visible:shadow-none",onKeyDown:x,...l}),e[8]=u.onChange,e[9]=u.value,e[10]=r,e[11]=l,e[12]=a):a=e[12],a},Gr=n=>{const e=F.c(11),{value:t,cellId:r,className:l}=n,{updateCellName:i}=Ro();let c;e[0]!==r||e[1]!==i?(c=o=>i({cellId:r,name:o}),e[0]=r,e[1]=i,e[2]=c):c=e[2];const u=Fr(t,c);if(Et(t))return null;let g;e[3]!==l?(g=te("outline-none border hover:border-cyan-500/40 focus:border-cyan-500/40",l),e[3]=l,e[4]=g):g=e[4];const f=u.onChange,w=u.onBlur;let x,a;return e[5]===Symbol.for("react.memo_cache_sentinel")?(x=on.onEnter(es),e[5]=x):x=e[5],e[6]!==u.onBlur||e[7]!==u.onChange||e[8]!==g||e[9]!==t?(a=S.jsx(Te,{content:"Click to rename",children:S.jsx("span",{className:g,contentEditable:!0,suppressContentEditableWarning:!0,onChange:f,onBlur:w,onKeyDown:x,children:t})}),e[6]=u.onBlur,e[7]=u.onChange,e[8]=g,e[9]=t,e[10]=a):a=e[10],a};function Fr(n,e){const t=F.c(11),[r,l]=Z.useState(n);let i;t[0]!==e||t[1]!==n?(i=x=>{if(x===n)return;if(!x||Et(x))return void e(x);const a=si(x,ii());e(a)},t[0]=e,t[1]=n,t[2]=i):i=t[2];const c=i;let u,g,f,w;return t[3]!==r?(u=Et(r)?"":r,t[3]=r,t[4]=u):u=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(g=x=>{const a=x.target.value,o=an(a);l(o)},t[5]=g):g=t[5],t[6]!==c?(f=x=>{if(x.target instanceof HTMLInputElement){const a=x.target.value;c(an(a))}else if(x.target instanceof HTMLSpanElement){const a=x.target.innerText.trim();c(an(a))}},t[6]=c,t[7]=f):f=t[7],t[8]!==u||t[9]!==f?(w={value:u,onChange:g,onBlur:f},t[8]=u,t[9]=f,t[10]=w):w=t[10],w}function es(n){n.target instanceof HTMLElement&&n.target.blur()}let Vr,Ur,Yr,$r,Gt;Vr=new ci,On=n=>{const e=F.c(2);let t;return e[0]!==n?(t=S.jsx(li,{children:S.jsx(Ur,{...n})}),e[0]=n,e[1]=t):t=e[1],t},Ur=n=>{const e=F.c(38),t=we.useRef(null),{consoleOutputs:r,stale:l,cellName:i,cellId:c,onSubmitDebugger:u,onClear:g,onRefactorWithAI:f,className:w}=n,x=r.length>0;let a,o,s,d,m,p,v,_,D;if(function(k,P){const T=F.c(3),z=P===void 0||P;let O;T[0]!==z||T[1]!==k?(O=N=>{if(!z)return;const j=k.current;if(!j||N.key.toLowerCase()!=="a"||!N.ctrlKey&&!N.metaKey)return;N.preventDefault(),N.stopPropagation();const E=window.getSelection();if(!E)return;const C=document.createRange();C.selectNodeContents(j),E.removeAllRanges(),E.addRange(C)},T[0]=z,T[1]=k,T[2]=O):O=T[2],bo(k,"keydown",O)}(t,x),e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{const k=t.current;if(!k)return;const P=k.scrollHeight-k.clientHeight;P-k.scrollTop<120&&(k.scrollTop=P)},e[0]=a):a=e[0],Z.useLayoutEffect(a),!x&&Et(i))return null;if(e[1]!==c||e[2]!==w||e[3]!==r||e[4]!==x||e[5]!==g||e[6]!==f||e[7]!==u||e[8]!==l){const k=[...r].reverse(),P=k.some(ts),T=k.findIndex(ns);o=l?"This console output is stale":void 0,s="console-output-area",d=t,m=0;const z=l&&"marimo-output-stale",O=x?"p-5":"p-3";let N;e[15]!==w||e[16]!==z||e[17]!==O?(p=te("console-output-area overflow-hidden rounded-b-lg flex flex-col-reverse w-full gap-1 focus:outline-none",z,O,w),e[15]=w,e[16]=z,e[17]=O,e[18]=p):p=e[18],e[19]!==c||e[20]!==r.length||e[21]!==P||e[22]!==T||e[23]!==g||e[24]!==f||e[25]!==u?(N=(j,E)=>{if(j.channel==="pdb")return null;if(j.channel==="stdin"){ui(typeof j.data=="string","Expected data to be a string");const C=r.length-E-1;return j.response==null&&T===E?S.jsx(Yr,{output:j.data,isPdb:P,onSubmit:L=>u(L,C),onClear:g},E):S.jsx($r,{output:j.data,response:j.response},E)}return S.jsx(we.Fragment,{children:S.jsx(di,{cellId:c,onRefactorWithAI:f,message:j})},E)},e[19]=c,e[20]=r.length,e[21]=P,e[22]=T,e[23]=g,e[24]=f,e[25]=u,e[26]=N):N=e[26],v=k.map(N),e[1]=c,e[2]=w,e[3]=r,e[4]=x,e[5]=g,e[6]=f,e[7]=u,e[8]=l,e[9]=o,e[10]=s,e[11]=d,e[12]=m,e[13]=p,e[14]=v}else o=e[9],s=e[10],d=e[11],m=e[12],p=e[13],v=e[14];return e[27]!==c||e[28]!==i?(_=S.jsx(Gr,{value:i,cellId:c,className:"bg-[var(--slate-4)] border-[var(--slate-4)] hover:bg-[var(--slate-5)] dark:border-[var(--sky-5)] dark:bg-[var(--sky-6)] dark:text-[var(--sky-12)] text-[var(--slate-12)] rounded-tl rounded-br-lg absolute right-0 bottom-0 text-xs px-1.5 py-0.5 font-mono"}),e[27]=c,e[28]=i,e[29]=_):_=e[29],e[30]!==o||e[31]!==s||e[32]!==d||e[33]!==m||e[34]!==p||e[35]!==v||e[36]!==_?(D=S.jsxs("div",{title:o,"data-testid":s,ref:d,tabIndex:m,className:p,children:[v,_]}),e[30]=o,e[31]=s,e[32]=d,e[33]=m,e[34]=p,e[35]=v,e[36]=_,e[37]=D):D=e[37],D},Yr=n=>{const e=F.c(13);let t,r,l,i,c;return e[0]!==n.output?(t=Gt(n.output),e[0]=n.output,e[1]=t):t=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(r=S.jsx(pi,{className:"w-5 h-5"}),e[2]=r):r=e[2],e[3]!==n?(l=S.jsx(To,{"data-testid":"console-input","data-stdin-blocking":!0,type:"text",autoComplete:"off",autoFocus:!0,icon:r,className:"m-0 h-8 focus-visible:shadow-xsSolid",placeholder:"stdin",onKeyDownCapture:u=>{u.key!=="Enter"||u.shiftKey||(n.onSubmit(u.currentTarget.value),u.preventDefault(),u.stopPropagation()),u.key==="Enter"&&u.metaKey&&(u.preventDefault(),u.stopPropagation())}}),e[3]=n,e[4]=l):l=e[4],e[5]!==n.isPdb||e[6]!==n.onClear||e[7]!==n.onSubmit?(i=n.isPdb&&S.jsx(Ja,{onSubmit:n.onSubmit,onClear:n.onClear}),e[5]=n.isPdb,e[6]=n.onClear,e[7]=n.onSubmit,e[8]=i):i=e[8],e[9]!==t||e[10]!==l||e[11]!==i?(c=S.jsxs("div",{className:"flex gap-2 items-center pt-2",children:[t,l,i]}),e[9]=t,e[10]=l,e[11]=i,e[12]=c):c=e[12],c},$r=n=>{const e=F.c(7);let t,r,l;return e[0]!==n.output?(t=Gt(n.output),e[0]=n.output,e[1]=t):t=e[1],e[2]!==n.response?(r=S.jsx("span",{className:"text-[var(--sky-11)]",children:n.response}),e[2]=n.response,e[3]=r):r=e[3],e[4]!==t||e[5]!==r?(l=S.jsxs("div",{className:"flex gap-2 items-center",children:[t,r]}),e[4]=t,e[5]=r,e[6]=l):l=e[6],l},Gt=n=>n?S.jsx("span",{dangerouslySetInnerHTML:{__html:Vr.ansi_to_html(n)}}):null;function ts(n){return typeof n.data=="string"&&n.data.includes("(Pdb)")}function ns(n){return n.channel==="stdin"}const rs=/\/@file\/([^\s/]+)\.([\dA-Za-z]+)/g;Xe=class{static get INSTANCE(){const n="_marimo_private_VirtualFileTracker";return window[n]||(window[n]=new Xe),window[n]}constructor(){this.virtualFiles=new Map}track(n){const e=n.output,t=n.cell_id;if(e)switch(e.mimetype){case"application/json":case"text/html":{const r=this.virtualFiles.get(t),l=function(i){if(!i)return new Set;const c=new Set,u=(typeof i=="string"?i:JSON.stringify(i)).match(rs);if(u)for(const g of u)c.add(g);return c}(e.data);return r==null||r.forEach(i=>l.add(i)),void this.virtualFiles.set(t,l)}default:return}}filenames(){const n=new Set;for(const e of this.virtualFiles.values())e.forEach(t=>n.add(t));return[...n]}removeForCellId(n){this.virtualFiles.delete(n)}},Sn=async function(n){const{filename:e,includeCode:t}=n,r=await fi({download:!0,includeCode:t,files:Xe.INSTANCE.filenames()}),l=hi.basename(e)??"notebook.py";mi(new Blob([r],{type:"text/html"}),gi.toHTML(l))},hn=function(n){const e=F.c(7),[t,r]=Z.useState(void 0),[l,i]=Z.useState(void 0),c=Z.useRef(null),u=Z.useRef(null);let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=new Map,e[0]=g):g=e[0];const f=Z.useRef(g);let w,x,a;return e[1]!==n?(w=()=>{if(n.length!==0)return c.current=new IntersectionObserver(o=>{let s;if(s=!1,o.forEach(d=>{const m=d.target;d.isIntersecting?(!u.current||m.getBoundingClientRect().top<u.current.getBoundingClientRect().top)&&(u.current=m,s=!0):m===u.current&&(u.current=null,s=!0)}),s&&u.current){const d=zo(u.current),m="id"in d?d.id:d.path;r(m),i(f.current.get(u.current))}},{root:mo()==="edit"?document.getElementById("App"):void 0,rootMargin:"0px",threshold:0}),n.forEach(o=>{var s;if(o){const d=zo(o[0]),m=n.map(os).filter(p=>"id"in d?p.id===d.id:p.textContent===o[0].textContent).indexOf(o[0]);f.current.set(o[0],m),(s=c.current)==null||s.observe(o[0])}}),()=>{c.current&&c.current.disconnect(),u.current=null}},x=[n],e[1]=n,e[2]=w,e[3]=x):(w=e[2],x=e[3]),Z.useEffect(w,x),e[4]!==t||e[5]!==l?(a={activeHeaderId:t,activeOccurrences:l},e[4]=t,e[5]=l,e[6]=a):a=e[6],a};function os(n){const[e]=n;return e}dn=function(n){if(n.length===0)return[];const e=new Map;return n.map(t=>{const r="id"in t.by?t.by.id:t.by.path,l=e.get(r)??0;e.set(r,l+1);const i=Kr(t,l);return i?[i,r]:null}).filter(Boolean)};function Xr(n,e){const t=Kr(n,e);t?(t.scrollIntoView({behavior:"smooth",block:"start"}),t.classList.add("outline-item-highlight"),setTimeout(()=>{t.classList.remove("outline-item-highlight")},3e3)):Ee.warn("Could not find element for outline item",n)}function Kr(n,e){return"id"in n.by?document.querySelectorAll(`[id="${CSS.escape(n.by.id)}"]`)[e]:document.evaluate(n.by.path,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}let Qr;Nn=()=>{const n=F.c(19),{items:e}=je(yi);let t;n[0]!==e?(t=dn(e),n[0]=e,n[1]=t):t=n[1];const{activeHeaderId:r,activeOccurrences:l}=hn(t),[i,c]=we.useState(!1);if(e.length<2)return null;let u,g,f;n[2]===Symbol.for("react.memo_cache_sentinel")?(u=()=>c(!0),g=()=>c(!1),f=te("fixed top-[25vh] right-8 z-[10000]","hidden md:block"),n[2]=u,n[3]=g,n[4]=f):(u=n[2],g=n[3],f=n[4]);const w=i?"-left-[280px] opacity-100":"left-[300px] opacity-0";let x,a,o,s;return n[5]!==w?(x=te("-top-4 max-h-[70vh] bg-background rounded-lg shadow-lg absolute overflow-auto transition-all duration-300 w-[300px] border",w),n[5]=w,n[6]=x):x=n[6],n[7]!==r||n[8]!==l||n[9]!==e||n[10]!==x?(a=S.jsx(yn,{className:x,items:e,activeHeaderId:r,activeOccurrences:l}),n[7]=r,n[8]=l,n[9]=e,n[10]=x,n[11]=a):a=n[11],n[12]!==r||n[13]!==l||n[14]!==e?(o=S.jsx(Qr,{items:e,activeHeaderId:r,activeOccurrences:l}),n[12]=r,n[13]=l,n[14]=e,n[15]=o):o=n[15],n[16]!==a||n[17]!==o?(s=S.jsxs("div",{onMouseEnter:u,onMouseLeave:g,className:f,children:[a,o]}),n[16]=a,n[17]=o,n[18]=s):s=n[18],s},Qr=n=>{const e=F.c(8),{items:t,activeHeaderId:r,activeOccurrences:l}=n;let i,c,u;if(e[0]!==r||e[1]!==l||e[2]!==t){const g=new Map;i="flex flex-col gap-4 items-end max-h-[70vh] overflow-hidden",c=t.map((f,w)=>{const x="id"in f.by?f.by.id:f.by.path,a=g.get(x)??0;return g.set(x,a+1),S.jsx("div",{className:te("h-[2px] bg-muted-foreground/60",f.level===1&&"w-5",f.level===2&&"w-4",f.level===3&&"w-3",f.level===4&&"w-2",a===l&&r===x&&"bg-foreground"),onClick:()=>Xr(f,a)},`${x}-${w}`)}),e[0]=r,e[1]=l,e[2]=t,e[3]=i,e[4]=c}else i=e[3],c=e[4];return e[5]!==i||e[6]!==c?(u=S.jsx("div",{className:i,children:c}),e[5]=i,e[6]=c,e[7]=u):u=e[7],u},yn=n=>{const e=F.c(11),{items:t,activeHeaderId:r,activeOccurrences:l,className:i}=n;let c,u,g;if(e[0]!==r||e[1]!==l||e[2]!==i||e[3]!==t){const f=new Map;e[6]!==i?(c=te("flex flex-col overflow-auto py-4 pl-2",i),e[6]=i,e[7]=c):c=e[7],u=t.map((w,x)=>{const a="id"in w.by?w.by.id:w.by.path,o=f.get(a)??0;return f.set(a,o+1),S.jsx("div",{className:te("px-2 py-1 cursor-pointer hover:bg-accent/50 hover:text-accent-foreground rounded-l",w.level===1&&"font-semibold",w.level===2&&"ml-3",w.level===3&&"ml-6",w.level===4&&"ml-9",o===l&&r===a&&"text-accent-foreground"),onClick:()=>Xr(w,o),children:w.name},`${a}-${x}`)}),e[0]=r,e[1]=l,e[2]=i,e[3]=t,e[4]=c,e[5]=u}else c=e[4],u=e[5];return e[8]!==c||e[9]!==u?(g=S.jsx("div",{className:c,children:u}),e[8]=c,e[9]=u,e[10]=g):g=e[10],g};let Zr,Ft;Cn=n=>{const e=F.c(15),{invisible:t,appConfig:r,className:l,children:i,innerClassName:c}=n;let u;e[0]!==l?(u=te("px-1 sm:px-16 md:px-20 xl:px-24 print:px-0 print:pb-0",l),e[0]=l,e[1]=u):u=e[1];const g=r.width==="compact"&&"max-w-contentWidth min-w-[400px]",f=r.width==="medium"&&"max-w-contentWidthMedium min-w-[400px]",w=r.width==="columns"&&"w-fit",x=r.width==="full"&&"max-w-full",a=t&&"invisible";let o,s,d;return e[2]!==c||e[3]!==g||e[4]!==f||e[5]!==w||e[6]!==x||e[7]!==a?(o=te("m-auto pb-24 sm:pb-12",g,f,w,x,a,c),e[2]=c,e[3]=g,e[4]=f,e[5]=w,e[6]=x,e[7]=a,e[8]=o):o=e[8],e[9]!==i||e[10]!==o?(s=S.jsx("div",{className:o,children:i}),e[9]=i,e[10]=o,e[11]=s):s=e[11],e[12]!==u||e[13]!==s?(d=S.jsx("div",{className:u,children:s}),e[12]=u,e[13]=s,e[14]=d):d=e[14],d},Zr=n=>{const e=F.c(20),{canShowCode:t,showCode:r,onToggleShowCode:l}=n,i=is,c=ls;let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=dt(),e[0]=u):u=e[0];const g=u;let f,w,x,a;if(e[1]!==t||e[2]!==l||e[3]!==r){if(f=[],t){let o,s,d,m,p;e[5]===Symbol.for("react.memo_cache_sentinel")?(o=S.jsx(Ci,{className:"mr-2",size:14,strokeWidth:1.5}),s=S.jsx("span",{className:"flex-1",children:"Show code"}),e[5]=o,e[6]=s):(o=e[5],s=e[6]),e[7]!==r?(d=r&&S.jsx(Po,{className:"h-4 w-4"}),e[7]=r,e[8]=d):d=e[8],e[9]!==l||e[10]!==d?(m=S.jsxs(ct,{onSelect:l,id:"notebook-action-show-code",children:[o,s,d]},"show-code"),e[9]=l,e[10]=d,e[11]=m):m=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(p=S.jsx(Lo,{},"show-code-separator"),e[12]=p):p=e[12],f.push(m,p)}if(!g){let o,s,d;e[13]===Symbol.for("react.memo_cache_sentinel")?(o=S.jsxs(ct,{onSelect:c,id:"notebook-action-download-html",children:[S.jsx(fn,{className:"mr-2",size:14,strokeWidth:1.5}),"Download as HTML"]},"download-html"),s=S.jsx(Lo,{},"download-html-separator"),e[13]=o,e[14]=s):(o=e[13],s=e[14]),e[15]===Symbol.for("react.memo_cache_sentinel")?(d=S.jsxs(ct,{onSelect:i,id:"notebook-action-download-png",children:[S.jsx(mn,{className:"mr-2",size:14,strokeWidth:1.5}),"Download as PNG"]},"download-png"),e[15]=d):d=e[15],f.push(o,s,d)}e[1]=t,e[2]=l,e[3]=r,e[4]=f}else f=e[4];return f.length===0?null:(e[16]===Symbol.for("react.memo_cache_sentinel")?(w=te("right-0 top-0 z-50 m-4 no-print flex gap-2 print:hidden",dt()?"absolute":"fixed"),e[16]=w):w=e[16],e[17]===Symbol.for("react.memo_cache_sentinel")?(x=S.jsx(tn,{asChild:!0,children:S.jsx(ze,{variant:"secondary",size:"xs",children:S.jsx(pn,{className:"w-4 h-4"})})}),e[17]=x):x=e[17],e[18]!==f?(a=S.jsx("div",{id:"notebook-actions-dropdown",className:w,children:S.jsxs(rn,{modal:!1,children:[x,S.jsx(nn,{align:"end",className:"no-print w-[220px]",children:f})]})}),e[18]=f,e[19]=a):a=e[19],a)},Ft=Z.memo(n=>{const e=F.c(55),{output:t,consoleOutputs:r,cellOutputArea:l,cellId:i,status:c,stopped:u,errored:g,config:f,interrupted:w,staleInputs:x,runStartTimestamp:a,code:o,showCode:s,mode:d,name:m,kiosk:p}=n,v=Z.useRef(null);let _;e[0]!==w||e[1]!==t||e[2]!==a||e[3]!==x||e[4]!==c?(_=_i({status:c,output:t,interrupted:w,runStartTimestamp:a,staleInputs:x},!1),e[0]=w,e[1]=t,e[2]=a,e[3]=x,e[4]=c,e[5]=_):_=e[5];const D=_;let k;e[6]!==c?(k=Zt(c),e[6]=c,e[7]=k):k=e[7];const P=k,T=p&&d!=="present";let z,O;if(e[8]!==o||e[9]!==g||e[10]!==T||e[11]!==d||e[12]!==s||e[13]!==u){z=new Oi().isSupported(o);const h=!s&&!T;O=te("marimo-cell","hover-actions-parent empty:invisible",{published:h,interactive:d==="edit","has-error":g,stopped:u,borderless:z&&!h}),e[8]=o,e[9]=g,e[10]=T,e[11]=d,e[12]=s,e[13]=u,e[14]=z,e[15]=O}else z=e[14],O=e[15];const N=O;let j;e[16]!==i?(j=ji.create(i),e[16]=i,e[17]=j):j=e[17];const E=j;if(d==="read"&&s||T){let h;e[18]!==i||e[19]!==P||e[20]!==t||e[21]!==D?(h=S.jsx(jt,{allowExpand:!0,output:t,className:"output-area",cellId:i,stale:D,loading:P}),e[18]=i,e[19]=P,e[20]=t,e[21]=D,e[22]=h):h=e[22];const b=h,R=o.trim()==="",M=l==="above"&&b;let I;e[23]!==o||e[24]!==f||e[25]!==R||e[26]!==z||e[27]!==p?(I=!z&&!R&&S.jsx("div",{className:"tray",children:S.jsx(Ei,{initiallyHideCode:f.hide_code||p,code:o})}),e[23]=o,e[24]=f,e[25]=R,e[26]=z,e[27]=p,e[28]=I):I=e[28];const W=l==="below"&&b;let B,U;return e[29]!==i||e[30]!==r||e[31]!==m||e[32]!==D?(B=S.jsx(On,{consoleOutputs:r,stale:D,cellName:m,onSubmitDebugger:cs,cellId:i,debuggerActive:!1}),e[29]=i,e[30]=r,e[31]=m,e[32]=D,e[33]=B):B=e[33],e[34]!==E||e[35]!==i||e[36]!==N||e[37]!==m||e[38]!==M||e[39]!==I||e[40]!==W||e[41]!==B?(U=S.jsxs("div",{tabIndex:-1,id:E,ref:v,className:N,"data-cell-id":i,"data-cell-name":m,children:[M,I,W,B]}),e[34]=E,e[35]=i,e[36]=N,e[37]=m,e[38]=M,e[39]=I,e[40]=W,e[41]=B,e[42]=U):U=e[42],U}const C=Di(t==null?void 0:t.mimetype);if(g||w||u||C)return null;const L=d==="edit";let H,y;return e[43]!==i||e[44]!==P||e[45]!==t||e[46]!==D||e[47]!==L?(H=S.jsx(jt,{allowExpand:L,output:t,className:"output-area",cellId:i,stale:D,loading:P}),e[43]=i,e[44]=P,e[45]=t,e[46]=D,e[47]=L,e[48]=H):H=e[48],e[49]!==E||e[50]!==i||e[51]!==N||e[52]!==m||e[53]!==H?(y=S.jsx("div",{tabIndex:-1,id:E,ref:v,className:N,"data-cell-id":i,"data-cell-name":m,children:H}),e[49]=E,e[50]=i,e[51]=N,e[52]=m,e[53]=H,e[54]=y):y=e[54],y}),Ft.displayName="VerticalCell";function as(n){return!!n.code}function ss(n){return!n}async function is(){const n=document.getElementById("App");n&&await Ni(n,document.title)}async function ls(){document.getElementById("App")&&await Sn({filename:document.title,includeCode:!0})}function cs(){return null}const Vt=[Ka,Za,{type:"vertical",name:"Vertical",validator:ue.any(),Component:n=>{const e=F.c(35),{cells:t,appConfig:r,mode:l}=n,{invisible:i}=function(N,j){const E=F.c(5),[C,L]=Z.useState(!0);let H,y;return E[0]!==j||E[1]!==N?(H=()=>{if(j!=="read")return void L(!1);const h=bi(30*(N-1),100,2e3),b=setTimeout(()=>{L(!1)},h);return()=>clearTimeout(b)},E[0]=j,E[1]=N,E[2]=H):H=E[2],Mo(H),E[3]!==C?(y={invisible:C},E[3]=C,E[4]=y):y=E[4],y}(t.length,l),c=je(sn),[u]=vi(),g=je(go);let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=new URLSearchParams(window.location.search),e[0]=f):f=e[0];const w=f;let x;e[1]!==c||e[2]!==g?(x=()=>{if(!g)return!1;const N=w.get(lt.showCode);return N===null?dt()||Ot()||c:N==="true"},e[1]=c,e[2]=g,e[3]=x):x=e[3];const[a,o]=Z.useState(x);let s;e[4]!==t||e[5]!==c||e[6]!==l?(s=()=>{const N=t.some(as);if(c)return!0;const j=w.get(lt.includeCode);return l==="read"&&j!=="false"&&N},e[4]=t,e[5]=c,e[6]=l,e[7]=s):s=e[7];const d=s;let m;e[8]!==d?(m=d(),e[8]=d,e[9]=m):m=e[9];const p=m;let v;e[10]!==p||e[11]!==c||e[12]!==l||e[13]!==a||e[14]!==u?(v=N=>S.jsx(Ft,{cellId:N.id,output:N.output,consoleOutputs:N.consoleOutputs,status:N.status,code:N.code,config:N.config,cellOutputArea:u.display.cell_output,stopped:N.stopped,showCode:a&&p,errored:N.errored,mode:l,runStartTimestamp:N.runStartTimestamp,interrupted:N.interrupted,staleInputs:N.staleInputs,name:N.name,kiosk:c},N.id),e[10]=p,e[11]=c,e[12]=l,e[13]=a,e[14]=u,e[15]=v):v=e[15];const _=v;let D;e[16]!==r.width||e[17]!==t||e[18]!==i||e[19]!==_?(D=()=>{if(r.width==="columns"){const N=function(j){const E=new Map;let C=0;return j.forEach(L=>{var y;const H=L.config.column??C;C=H,E.has(H)||E.set(H,[]),(y=E.get(H))==null||y.push(L)}),[...E.entries()].sort(([L],[H])=>L-H)}(t);return S.jsx("div",{className:"flex flex-row gap-8 w-full",children:N.map(j=>{const[E,C]=j;return S.jsx("div",{className:"flex-1 flex flex-col gap-2 w-contentWidth",children:C.map(_)},E)})})}return t.length!==0||i?S.jsx(S.Fragment,{children:t.map(_)}):S.jsx("div",{className:"flex-1 flex flex-col items-center justify-center py-8",children:S.jsxs(wi,{variant:"info",children:[S.jsx(xi,{children:"Empty Notebook"}),S.jsx(Si,{children:"This notebook has no code or outputs."})]})})},e[16]=r.width,e[17]=t,e[18]=i,e[19]=_,e[20]=D):D=e[20];const k=D;let P,T,z,O;return e[21]!==p||e[22]!==k||e[23]!==a?(P=a&&p?S.jsxs("div",{className:"flex flex-col gap-5",children:[" ",k()]}):k(),e[21]=p,e[22]=k,e[23]=a,e[24]=P):P=e[24],e[25]!==p||e[26]!==l||e[27]!==a?(T=l==="read"&&S.jsx(Zr,{canShowCode:p,showCode:a,onToggleShowCode:()=>o(ss)}),e[25]=p,e[26]=l,e[27]=a,e[28]=T):T=e[28],e[29]===Symbol.for("react.memo_cache_sentinel")?(z=S.jsx(Nn,{}),e[29]=z):z=e[29],e[30]!==r||e[31]!==i||e[32]!==P||e[33]!==T?(O=S.jsxs(Cn,{invisible:i,appConfig:r,children:[P,T,z]}),e[30]=r,e[31]=i,e[32]=P,e[33]=T,e[34]=O):O=e[34],O},deserializeLayout:n=>n,serializeLayout:n=>n,getInitialLayout:()=>null}];function us(){return{selectedLayout:"vertical",layoutData:{}}}let Jr;({valueAtom:Pt,useActions:Jr}=Dt(us,{setLayoutView:(n,e)=>({...n,selectedLayout:e}),setLayoutData:(n,e)=>({...n,selectedLayout:e.layoutView,layoutData:{...n.layoutData,[e.layoutView]:e.data}}),setCurrentLayoutData:(n,e)=>({...n,layoutData:{...n.layoutData,[n.selectedLayout]:e}})})),xn=()=>je(Pt),kt=()=>Jr(),Xo=function(){const n=Io(),{layoutData:e,selectedLayout:t}=$t.get(Pt);if(t==="vertical"||e===void 0)return;const r=e[t],l=Vt.find(i=>i.type===t);if(l!==void 0)return{type:t,data:l.serializeLayout(r,ki(n))};Ee.error(`Unknown layout type: ${t}`)};let eo;Go=["vertical","grid","slides"],eo=["slides"],un=Z.memo(n=>{const e=F.c(8),{appConfig:t,mode:r,children:l}=n,{selectedLayout:i,layoutData:c}=xn(),u=je(sn);if(r==="edit"&&!u)return l;let g;g=i;const f=new URLSearchParams(window.location.search);if(r==="read"&&f.has(lt.viewAs)){const o=f.get(lt.viewAs);eo.includes(o)&&(g=o)}let w;e[0]!==g?(w=Vt.find(o=>o.type===g),e[0]=g,e[1]=w):w=e[1];const x=w;if(!x)return l;let a;return e[2]!==t||e[3]!==g||e[4]!==c||e[5]!==r||e[6]!==x?(a=S.jsx(ds,{appConfig:t,mode:r,plugin:x,layoutData:c,finalLayout:g}),e[2]=t,e[3]=g,e[4]=c,e[5]=r,e[6]=x,e[7]=a):a=e[7],a}),un.displayName="CellsRenderer";const ds=n=>{const e=F.c(18),{appConfig:t,mode:r,plugin:l,layoutData:i,finalLayout:c}=n,u=Pi(),{setCurrentLayoutData:g}=kt();let f,w,x,a,o,s;if(e[0]!==t||e[1]!==c||e[2]!==i||e[3]!==r||e[4]!==u||e[5]!==l){const d=Ri(u);f=l.Component,w=t,x=r,a=d,o=i[c]||l.getInitialLayout(d),e[0]=t,e[1]=c,e[2]=i,e[3]=r,e[4]=u,e[5]=l,e[6]=f,e[7]=w,e[8]=x,e[9]=a,e[10]=o}else f=e[6],w=e[7],x=e[8],a=e[9],o=e[10];return e[11]!==f||e[12]!==g||e[13]!==w||e[14]!==x||e[15]!==a||e[16]!==o?(s=S.jsx(f,{appConfig:w,mode:x,cells:a,layout:o,setLayout:g}),e[11]=f,e[12]=g,e[13]=w,e[14]=x,e[15]=a,e[16]=o,e[17]=s):s=e[17],s};bn=class{static get INSTANCE(){const n="_marimo_private_RuntimeState";return window[n]||(window[n]=new bn(pt)),window[n]}constructor(n){this.uiElementRegistry=n,this.hasStarted=!1,this._sendComponentValues=void 0,this.handleReadyEvent=e=>{const t=e.detail.objectId;if(!this.uiElementRegistry.has(t))return;const r=this.uiElementRegistry.lookupValue(t);r!==void 0&&this.sendComponentValues({objectIds:[t],values:[r]}).catch(l=>{Ee.warn(l)})}}get sendComponentValues(){if(!this._sendComponentValues)throw new Error("sendComponentValues is not set");return this._sendComponentValues}start(n){this.hasStarted?Ee.warn("RuntimeState already started"):(this._sendComponentValues=n,document.addEventListener(Ho.TYPE,this.handleReadyEvent),this.hasStarted=!0)}stop(){this.hasStarted?(document.removeEventListener(Ho.TYPE,this.handleReadyEvent),this.hasStarted=!1):Ee.warn("RuntimeState already stopped")}},Ko=function(n){return n===de.CONNECTING},Jo=function(n){return n===de.OPEN},Qo=function(n){return n===de.CLOSED||n===de.CLOSING||n===de.CONNECTING},Zo=function(n){switch(n){case de.CLOSED:return"App disconnected";case de.CONNECTING:return"Connecting to a runtime ...";case de.CLOSING:return"App disconnecting...";case de.OPEN:default:return""}},globalThis.EventTarget&&globalThis.Event||console.error(`
  PartySocket requires a global 'EventTarget' class to be available!
  You can polyfill this global by adding this to your code before any partysocket imports: 
  
  \`\`\`
  import 'partysocket/event-target-polyfill';
  \`\`\`
  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.
`);var to,no=class extends Event{constructor(e,t){super("error",t);re(this,"message");re(this,"error");this.message=e.message,this.error=e}},ro=class extends Event{constructor(e=1e3,t="",r){super("close",r);re(this,"code");re(this,"reason");re(this,"wasClean",!0);this.code=e,this.reason=t}},oo=no,ps=ro;let at,We,Ut;at=typeof process<"u"&&((to=process.versions)==null?void 0:to.node)!==void 0&&typeof document>"u"?function(n){return"data"in n?new MessageEvent(n.type,n):"code"in n||"reason"in n?new ro(n.code||1999,n.reason||"unknown reason",n):"error"in n?new no(n.error,n):new Event(n.type,n)}:function(n){return new n.constructor(n.type,n)},We={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:Number.POSITIVE_INFINITY,maxEnqueuedMessages:Number.POSITIVE_INFINITY},Ut=!1,_n=class Fe extends EventTarget{constructor(t,r,l={}){super();re(this,"_ws");re(this,"_retryCount",-1);re(this,"_uptimeTimeout");re(this,"_connectTimeout");re(this,"_shouldReconnect",!0);re(this,"_connectLock",!1);re(this,"_binaryType","blob");re(this,"_closeCalled",!1);re(this,"_messageQueue",[]);re(this,"_debugLogger",console.log.bind(console));re(this,"_url");re(this,"_protocols");re(this,"_options");re(this,"onclose",null);re(this,"onerror",null);re(this,"onmessage",null);re(this,"onopen",null);re(this,"_handleOpen",t=>{this._debug("open event");const{minUptime:r=We.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout(()=>this._acceptOpen(),r),function(l,i){if(!l)throw new Error(i)}(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach(l=>{var i;return(i=this._ws)==null?void 0:i.send(l)}),this._messageQueue=[],this.onopen&&this.onopen(t),this.dispatchEvent(at(t))});re(this,"_handleMessage",t=>{this._debug("message event"),this.onmessage&&this.onmessage(t),this.dispatchEvent(at(t))});re(this,"_handleError",t=>{this._debug("error event",t.message),this._disconnect(void 0,t.message==="TIMEOUT"?"timeout":void 0),this.onerror&&this.onerror(t),this._debug("exec error listeners"),this.dispatchEvent(at(t)),this._connect()});re(this,"_handleClose",t=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(t),this.dispatchEvent(at(t))});this._url=t,this._protocols=r,this._options=l,this._options.startClosed&&(this._shouldReconnect=!1),this._options.debugLogger&&(this._debugLogger=this._options.debugLogger),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return Fe.CONNECTING}get OPEN(){return Fe.OPEN}get CLOSING(){return Fe.CLOSING}get CLOSED(){return Fe.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce((t,r)=>(typeof r=="string"?t+=r.length:r instanceof Blob?t+=r.size:t+=r.byteLength,t),0)+(this._ws?this._ws.bufferedAmount:0)}get extensions(){return this._ws?this._ws.extensions:""}get protocol(){return this._ws?this._ws.protocol:""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?Fe.CLOSED:Fe.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}close(t=1e3,r){this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState!==this.CLOSED?this._ws.close(t,r):this._debug("close: already closed"):this._debug("close enqueued: no ws instance")}reconnect(t,r){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED?(this._disconnect(t,r),this._connect()):this._connect()}send(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{const{maxEnqueuedMessages:r=We.maxEnqueuedMessages}=this._options;this._messageQueue.length<r&&(this._debug("enqueue",t),this._messageQueue.push(t))}}_debug(...t){this._options.debug&&this._debugLogger("RWS>",...t)}_getNextDelay(){const{reconnectionDelayGrowFactor:t=We.reconnectionDelayGrowFactor,minReconnectionDelay:r=We.minReconnectionDelay,maxReconnectionDelay:l=We.maxReconnectionDelay}=this._options;let i=0;return this._retryCount>0&&(i=r*t**(this._retryCount-1),i>l&&(i=l)),this._debug("next delay",i),i}_wait(){return new Promise(t=>{setTimeout(t,this._getNextDelay())})}_getNextProtocols(t){if(!t)return Promise.resolve(null);if(typeof t=="string"||Array.isArray(t))return Promise.resolve(t);if(typeof t=="function"){const r=t();if(!r)return Promise.resolve(null);if(typeof r=="string"||Array.isArray(r))return Promise.resolve(r);if(r.then)return r}throw Error("Invalid protocols")}_getNextUrl(t){if(typeof t=="string")return Promise.resolve(t);if(typeof t=="function"){const r=t();if(typeof r=="string")return Promise.resolve(r);if(r.then)return r}throw Error("Invalid URL")}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;const{maxRetries:t=We.maxRetries,connectionTimeout:r=We.connectionTimeout}=this._options;this._retryCount>=t?this._debug("max retries reached",this._retryCount,">=",t):(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then(()=>Promise.all([this._getNextUrl(this._url),this._getNextProtocols(this._protocols||null)])).then(([l,i])=>{if(this._closeCalled)return void(this._connectLock=!1);this._options.WebSocket||typeof WebSocket<"u"||Ut||(console.error(`\u203C\uFE0F No WebSocket implementation available. You should define options.WebSocket. 

For example, if you're using node.js, run \`npm install ws\`, and then in your code:

import PartySocket from 'partysocket';
import WS from 'ws';

const partysocket = new PartySocket({
  host: "127.0.0.1:1999",
  room: "test-room",
  WebSocket: WS
});

`),Ut=!0);const c=this._options.WebSocket||WebSocket;this._debug("connect",{url:l,protocols:i}),this._ws=i?new c(l,i):new c(l),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout(()=>this._handleTimeout(),r)}).catch(l=>{this._connectLock=!1,this._handleError(new oo(Error(l.message),this))}))}_handleTimeout(){this._debug("timeout event"),this._handleError(new oo(Error("TIMEOUT"),this))}_disconnect(t=1e3,r){if(this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.readyState===this.OPEN&&this._ws.close(t,r),this._handleClose(new ps(t,r,this))}catch{}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}};class fs{constructor(){this.CONNECTING=WebSocket.CONNECTING,this.OPEN=WebSocket.OPEN,this.CLOSING=WebSocket.CLOSING,this.CLOSED=WebSocket.CLOSED,this.binaryType="blob",this.bufferedAmount=0,this.extensions="",this.protocol="",this.url="",this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this.readyState=WebSocket.OPEN,this.retryCount=0,this.shouldReconnect=!1}addEventListener(e,t,r){e==="open"&&queueMicrotask(()=>{t(new Event("open"))})}removeEventListener(e,t,r){}dispatchEvent(e){return!1}reconnect(e,t){}send(e){}close(){}}na=function(n){return n.kind==="missing"},ra=function(n){return n.kind==="installing"};let ao,so;({valueAtom:ao,useActions:so}=Dt(()=>({packageAlert:null}),{addPackageAlert:(n,e)=>({...n,packageAlert:{id:Wo(),...e}}),clearPackageAlert:(n,e)=>n.packageAlert!==null&&n.packageAlert.id===e?{...n,packageAlert:null}:n})),ea=()=>je(ao),jn=function(){return so()};let io;({valueAtom:ta,useActions:En}=Dt(function(){return{runIds:[],runMap:new Map}},{addCellOperation:(n,e)=>{const{cellOperation:t,code:r}=e,l=t.run_id;if(!l)return n;const i=n.runMap.get(l);if(!i&&function(x){return x.startsWith("mo.md(")&&io.test(x)}(r))return n;const c=t.output&&(t.output.channel==="marimo-error"||t.output.channel==="stderr");let u=c?"error":t.status==="queued"?"queued":t.status==="running"?"running":"success";if(!i){const x={runId:l,cellRuns:new Map([[t.cell_id,{cellId:t.cell_id,code:r.slice(0,200),elapsedTime:0,status:u,startTime:t.timestamp}]]),runStartTime:t.timestamp},a=[l,...n.runIds],o=new Map(n.runMap);if(a.length>50){const s=a.pop();s&&o.delete(s)}return o.set(l,x),{runIds:a,runMap:o}}const g=new Map(i.cellRuns),f=g.get(t.cell_id);if(f&&!c&&t.status==="queued")return n;if(f){u=f.status==="error"||c?"error":u;const x=t.status==="running"?t.timestamp:f.startTime,a=u==="success"||u==="error"?t.timestamp-f.startTime:void 0;g.set(t.cell_id,{...f,startTime:x,elapsedTime:a,status:u})}else g.set(t.cell_id,{cellId:t.cell_id,code:r.slice(0,200),elapsedTime:0,status:u,startTime:t.timestamp});const w=new Map(n.runMap);return w.set(l,{...i,cellRuns:g}),{...n,runMap:w}},clearRuns:n=>({...n,runIds:[],runMap:new Map}),removeRun:(n,e)=>{const t=n.runIds.filter(l=>l!==e),r=new Map(n.runMap);return r.delete(e),{...n,runIds:t,runMap:r}}})),io=/mo\.md\(\s*r?('''|""")/;let lo,co;cn=new ln("sql-table-preview",async(n,e)=>{await zi({requestId:n,...e})}),kn=new ln("sql-table-list-preview",async(n,e)=>{await Ti({requestId:n,...e})}),{valueAtom:lo,useActions:co}=Dt(()=>({banners:[]}),{addBanner:(n,e)=>({...n,banners:[...n.banners,{...e,id:Wo()}]}),removeBanner:(n,e)=>({...n,banners:n.banners.filter(t=>t.id!==e)}),clearBanners:n=>({...n,banners:[]})}),oa=()=>je(lo),Dn=function(){return co()};function hs(n,e){const{autoInstantiate:t,setCells:r,setLayoutData:l,onError:i,setAppConfig:c,setCapabilities:u}=e,{codes:g,names:f,layout:w,configs:x,resumed:a,ui_values:o,cell_ids:s,last_executed_code:d,last_execution_time:m={},app_config:p,capabilities:v}=n,_=d||{},D=m||{},k=g.map((N,j)=>{const E=s[j];let C=!1;const L=_[E];return L&&(C=L!==N),Li({id:E,code:N,edited:C,name:f[j],lastCodeRun:_[E]??null,lastExecutionTime:D[E]??null,config:x[j]})}),P={selectedLayout:"vertical",layoutData:{}};if(w){const N=w.type,j=function(E,C,L){const H=Vt.find(y=>y.type===E);if(H===void 0)throw new Error(`Unknown layout type: ${E}`);return H.deserializeLayout(C,L)}(N,w.data,k);P.selectedLayout=N,P.layoutData[N]=j,l({layoutView:N,data:j})}r(k,P);const T=Ii.safeParse(p);if(T.success&&c(T.data),u(v),a){for(const[N,j]of Xt.entries(o||{}))pt.set(N,j);return}const z=[],O=[];pt.entries.forEach((N,j)=>{z.push(j),O.push(N.value)}),Hi({objectIds:z,values:O,autoRun:t}).catch(N=>{i(new Error("Failed to instantiate",{cause:N}))})}let uo,po,fo,ho;uo=n=>{const e=new URL(window.location.href);e.searchParams.append(n.key,n.value),window.history.pushState({},"",`${e.pathname}${e.search}`)},po=n=>{const e=new URL(window.location.href);Array.isArray(n.value)?(e.searchParams.delete(n.key),n.value.forEach(t=>e.searchParams.append(n.key,t))):e.searchParams.set(n.key,n.value),window.history.pushState({},"",`${e.pathname}${e.search}`)},fo=n=>{const e=new URL(window.location.href);n.value==null?e.searchParams.delete(n.key):e.searchParams.delete(n.key,n.value),window.history.pushState({},"",`${e.pathname}${e.search}`)},ho=()=>{const n=new URL(window.location.href);n.search="",window.history.pushState({},"",`${n.pathname}${n.search}`)},vn=new ln("secrets-result",async(n,e)=>{await Wi({requestId:n,...e})}),Uo=function(n){const e=F.c(30),t=Z.useRef(!0),{autoInstantiate:r,sessionId:l,setCells:i}=n,{showBoundary:c}=Ai(),{handleCellMessage:u,setCellCodes:g,setCellIds:f}=Ro(),{addCellOperation:w}=En(),x=qi(),{setVariables:a,setMetadata:o}=Bi(),{addColumnPreview:s}=Ao(),{addDatasets:d,filterDatasetsFromVariables:m}=Ao(),{addDataSourceConnection:p,filterDataSourcesFromVariables:v}=Gi(),{setLayoutData:_}=kt(),[D,k]=jo(Fi),{addBanner:P}=Dn(),{addPackageAlert:T}=jn(),z=qo(sn),O=qo(Vi),N=Ui();let j;e[0]!==P||e[1]!==w||e[2]!==s||e[3]!==p||e[4]!==d||e[5]!==T||e[6]!==r||e[7]!==v||e[8]!==m||e[9]!==u||e[10]!==x||e[11]!==O||e[12]!==g||e[13]!==f||e[14]!==i||e[15]!==z||e[16]!==_||e[17]!==o||e[18]!==a||e[19]!==c?(j=R=>{const M=Yi(R.data);switch(M.op){case"reload":return void Eo();case"kernel-ready":return hs(M.data,{autoInstantiate:r,setCells:i,setLayoutData:_,setAppConfig:x,setCapabilities:O,onError:c}),void z(M.data.kiosk);case"completed-run":case"interrupted":case"reconnected":return;case"send-ui-element-message":{const I=M.data.model_id,W=M.data.ui_element,B=M.data.message,U=M.data.buffers??[];return I&&Ji(B)&&el(I,B,U,tl),void(W&&pt.broadcastMessage(W,M.data.message,U))}case"remove-ui-elements":return void function(I){const W=I.cell_id;pt.removeElementsByCell(W),Xe.INSTANCE.removeForCellId(W)}(M.data);case"completion-result":return void Zi.resolve(M.data.completion_id,M.data);case"function-call-result":return void Qi.resolve(M.data.function_call_id,M.data);case"cell-op":{(function(W,B){B(W),Xe.INSTANCE.track(W)})(M.data,u);const I=Io().cellData[M.data.cell_id];return I?void w({cellOperation:M.data,code:I.code}):void 0}case"variables":return a(M.data.variables.map(vs)),m(M.data.variables.map(bs)),void v(M.data.variables.map(ys));case"variable-values":return void o(M.data.variables.map(gs));case"alert":return void Kt({title:M.data.title,description:Ki({html:M.data.description}),variant:M.data.variant});case"banner":return void P(M.data);case"missing-package-alert":return void T({...M.data,kind:"missing"});case"installing-package-alert":return void T({...M.data,kind:"installing"});case"query-params-append":return void uo(M.data);case"query-params-set":return void po(M.data);case"query-params-delete":return void fo(M.data);case"query-params-clear":return void ho();case"datasets":return void d(M.data);case"data-column-preview":return void s(M.data);case"sql-table-preview":return void cn.resolve(M.data.request_id,M.data);case"sql-table-list-preview":return void kn.resolve(M.data.request_id,M.data);case"secret-keys-result":return void vn.resolve(M.data.request_id,M.data);case"data-source-connections":return void p({connections:M.data.connections.map(ms)});case"focus-cell":return void Xi(M.data.cell_id);case"update-cell-codes":return void g({codes:M.data.codes,ids:M.data.cell_ids,codeIsStale:M.data.code_is_stale});case"update-cell-ids":return void f({cellIds:M.data.cell_ids});default:$i(M)}},e[0]=P,e[1]=w,e[2]=s,e[3]=p,e[4]=d,e[5]=T,e[6]=r,e[7]=v,e[8]=m,e[9]=u,e[10]=x,e[11]=O,e[12]=g,e[13]=f,e[14]=i,e[15]=z,e[16]=_,e[17]=o,e[18]=a,e[19]=c,e[20]=j):j=e[20];const E=j,C=(R,M)=>{t.current&&(t.current=!1,h.reconnect(R,M))};let L,H,y;e[21]!==N||e[22]!==l?(L=()=>N.getWsURL(l).toString(),e[21]=N,e[22]=l,e[23]=L):L=e[23],e[24]!==N?(H=async()=>{N.isSameOrigin||await N.waitForHealthy()},e[24]=N,e[25]=H):H=e[25],e[26]!==E?(y=R=>{try{E(R)}catch(M){const I=M;Ee.error("Failed to handle message",I),Kt({title:"Failed to handle message",description:Do(I),variant:"danger"})}},e[26]=E,e[27]=y):y=e[27];const h=function(R){const{onOpen:M,onMessage:I,onClose:W,onError:B,waitToConnect:U,...J}=R,[A]=Z.useState(()=>{const q=Ot()?new Mi(yo.INSTANCE):R.static?new fs:new _n(J.url,void 0,{maxRetries:10,debug:!1,startClosed:!0,connectionTimeout:1e4});return M&&q.addEventListener("open",M),W&&q.addEventListener("close",W),B&&q.addEventListener("error",B),I&&q.addEventListener("message",I),q});return Z.useEffect(()=>(A.readyState===WebSocket.CLOSED&&(!U||dt()||Ot()?A.reconnect():U().then(()=>{A.reconnect()})),()=>{Ee.warn("useWebSocket is unmounting. This likely means there is a bug."),A.close(),M&&A.removeEventListener("open",M),W&&A.removeEventListener("close",W),B&&A.removeEventListener("error",B),I&&A.removeEventListener("message",I)}),[A]),A}({static:dt(),url:L,onOpen:async()=>{t.current=!0,k({state:de.OPEN})},waitToConnect:H,onMessage:y,onClose:R=>{switch(Ee.warn("WebSocket closed",R.code,R.reason),R.reason){case"MARIMO_ALREADY_CONNECTED":return k({state:de.CLOSED,code:Ct.ALREADY_RUNNING,reason:"another browser tab is already connected to the kernel",canTakeover:!0}),void h.close();case"MARIMO_WRONG_KERNEL_ID":case"MARIMO_NO_FILE_KEY":case"MARIMO_NO_SESSION_ID":case"MARIMO_NO_SESSION":case"MARIMO_SHUTDOWN":return k({state:de.CLOSED,code:Ct.KERNEL_DISCONNECTED,reason:"kernel not found"}),void h.close();case"MARIMO_MALFORMED_QUERY":return void k({state:de.CLOSED,code:Ct.MALFORMED_QUERY,reason:"the kernel did not recognize a request; please file a bug with marimo"});default:k({state:de.CONNECTING}),C(R.code,R.reason)}},onError:R=>{Ee.warn("WebSocket error",R),k({state:de.CLOSED,code:Ct.KERNEL_DISCONNECTED,reason:"kernel not found"}),C()}});let b;return e[28]!==D?(b={connection:D},e[28]=D,e[29]=b):b=e[29],b};function ms(n){return{...n,name:n.name}}function gs(n){return{name:n.name,dataType:n.datatype,value:n.value}}function ys(n){return n.name}function bs(n){return n.name}function vs(n){return{name:n.name,declaredBy:n.declared_by,usedBy:n.used_by}}Vo=n=>{const e=F.c(2),{children:t}=n;let r;return e[0]!==t?(r=S.jsx("div",{className:"flex flex-col flex-1 overflow-hidden absolute inset-0 print:relative",children:t}),e[0]=t,e[1]=r):r=e[1],r},ue.record(ue.tuple([ue.number(),ue.number()]));let Yt=null;$o=function(n){return{getItem:e=>Yt||(Yt??null),setItem(e,t){Yt=t||null}}}});export{Bo as A,cn as B,un as C,dn as D,pn as E,fn as F,hn as G,mn as I,Go as L,gn as M,Fo as N,yn as O,Vo as P,bn as R,vn as S,Nt as T,Xe as V,ol as __tla,Uo as a,Yo as b,$o as c,wn as d,xn as e,kt as f,Sn as g,Xo as h,Ko as i,Qo as j,Zo as k,Pt as l,Jo as m,_n as n,On as o,ea as p,jn as q,ta as r,na as s,ra as t,En as u,oa as v,Dn as w,Cn as x,Nn as y,kn as z};
